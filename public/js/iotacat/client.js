/**
                       * @license
                       * author: TanglePay
                       * iotacatclient.js v0.0.1
                       * Released under the Apache-2.0 license.
                       */
var iotacatclient=function(e,t,r,n){"use strict";var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function a(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){if(this instanceof e){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(t,r))}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var l={exports:{}};var f,p={exports:{}},d=h(Object.freeze({__proto__:null,default:{}}));function v(){return f||(f=1,p.exports=function(){var e=e||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==u&&u.crypto&&(r=u.crypto),!r)try{r=d}catch(e){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),i={},s=i.lib={},a=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new c.init(t,e)}}),h=i.enc={},l=h.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},f=h.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},v=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,o=n.words,i=n.sigBytes,s=this.blockSize,a=i/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,h=e.min(4*u,i);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(o,l);r=o.splice(0,u),n.sigBytes-=h}return new c.init(r,h)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=v.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}});var g=i.algo={};return i}(Math);return e}()),p.exports}var g,y={exports:{}};function _(){return g||(g=1,y.exports=function(e){return function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,s=r.x64={};s.Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),e}(v())),y.exports}var m,w={exports:{}};function b(){return m||(m=1,w.exports=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init,n=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],o=0;o<t;o++)n[o>>>2]|=e[o]<<24-o%4*8;r.call(this,n,t)}else r.apply(this,arguments)};n.prototype=t}}(),e.lib.WordArray}(v())),w.exports}var S,A={exports:{}};function x(){return S||(S=1,A.exports=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return r.create(n,2*t)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16}(v())),A.exports}var B,E={exports:{}};function T(){return B||(B=1,E.exports=function(e){return function(){var t=e,r=t.lib.WordArray;function n(e,t,n){for(var o=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)o.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(v())),E.exports}var k,I={exports:{}};function C(){return k||(k=1,I.exports=function(e){return function(){var t=e,r=t.lib.WordArray;function n(e,t,n){for(var o=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64url={stringify:function(e,t=!0){var r=e.words,n=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var i=[],s=0;s<n;s+=3)for(var a=(r[s>>>2]>>>24-s%4*8&255)<<16|(r[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|r[s+2>>>2]>>>24-(s+2)%4*8&255,u=0;u<4&&s+.75*u<n;u++)i.push(o.charAt(a>>>6*(3-u)&63));var c=o.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e,t=!0){var r=e.length,o=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<o.length;s++)i[o.charCodeAt(s)]=s}var a=o.charAt(64);if(a){var u=e.indexOf(a);-1!==u&&(r=u)}return n(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url}(v())),I.exports}var O,M={exports:{}};function P(){return O||(O=1,M.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,s=r.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],u=e[t+1],p=e[t+2],d=e[t+3],v=e[t+4],g=e[t+5],y=e[t+6],_=e[t+7],m=e[t+8],w=e[t+9],b=e[t+10],S=e[t+11],A=e[t+12],x=e[t+13],B=e[t+14],E=e[t+15],T=i[0],k=i[1],I=i[2],C=i[3];T=c(T,k,I,C,s,7,a[0]),C=c(C,T,k,I,u,12,a[1]),I=c(I,C,T,k,p,17,a[2]),k=c(k,I,C,T,d,22,a[3]),T=c(T,k,I,C,v,7,a[4]),C=c(C,T,k,I,g,12,a[5]),I=c(I,C,T,k,y,17,a[6]),k=c(k,I,C,T,_,22,a[7]),T=c(T,k,I,C,m,7,a[8]),C=c(C,T,k,I,w,12,a[9]),I=c(I,C,T,k,b,17,a[10]),k=c(k,I,C,T,S,22,a[11]),T=c(T,k,I,C,A,7,a[12]),C=c(C,T,k,I,x,12,a[13]),I=c(I,C,T,k,B,17,a[14]),T=h(T,k=c(k,I,C,T,E,22,a[15]),I,C,u,5,a[16]),C=h(C,T,k,I,y,9,a[17]),I=h(I,C,T,k,S,14,a[18]),k=h(k,I,C,T,s,20,a[19]),T=h(T,k,I,C,g,5,a[20]),C=h(C,T,k,I,b,9,a[21]),I=h(I,C,T,k,E,14,a[22]),k=h(k,I,C,T,v,20,a[23]),T=h(T,k,I,C,w,5,a[24]),C=h(C,T,k,I,B,9,a[25]),I=h(I,C,T,k,d,14,a[26]),k=h(k,I,C,T,m,20,a[27]),T=h(T,k,I,C,x,5,a[28]),C=h(C,T,k,I,p,9,a[29]),I=h(I,C,T,k,_,14,a[30]),T=l(T,k=h(k,I,C,T,A,20,a[31]),I,C,g,4,a[32]),C=l(C,T,k,I,m,11,a[33]),I=l(I,C,T,k,S,16,a[34]),k=l(k,I,C,T,B,23,a[35]),T=l(T,k,I,C,u,4,a[36]),C=l(C,T,k,I,v,11,a[37]),I=l(I,C,T,k,_,16,a[38]),k=l(k,I,C,T,b,23,a[39]),T=l(T,k,I,C,x,4,a[40]),C=l(C,T,k,I,s,11,a[41]),I=l(I,C,T,k,d,16,a[42]),k=l(k,I,C,T,y,23,a[43]),T=l(T,k,I,C,w,4,a[44]),C=l(C,T,k,I,A,11,a[45]),I=l(I,C,T,k,E,16,a[46]),T=f(T,k=l(k,I,C,T,p,23,a[47]),I,C,s,6,a[48]),C=f(C,T,k,I,_,10,a[49]),I=f(I,C,T,k,B,15,a[50]),k=f(k,I,C,T,g,21,a[51]),T=f(T,k,I,C,A,6,a[52]),C=f(C,T,k,I,d,10,a[53]),I=f(I,C,T,k,b,15,a[54]),k=f(k,I,C,T,u,21,a[55]),T=f(T,k,I,C,m,6,a[56]),C=f(C,T,k,I,E,10,a[57]),I=f(I,C,T,k,y,15,a[58]),k=f(k,I,C,T,x,21,a[59]),T=f(T,k,I,C,v,6,a[60]),C=f(C,T,k,I,S,10,a[61]),I=f(I,C,T,k,p,15,a[62]),k=f(k,I,C,T,w,21,a[63]),i[0]=i[0]+T|0,i[1]=i[1]+k|0,i[2]=i[2]+I|0,i[3]=i[3]+C|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;r[o>>>5]|=128<<24-o%32;var i=t.floor(n/4294967296),s=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var h=u[c];u[c]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,o,i,s){var a=e+(t&r|~t&n)+o+s;return(a<<i|a>>>32-i)+t}function h(e,t,r,n,o,i,s){var a=e+(t&n|r&~n)+o+s;return(a<<i|a>>>32-i)+t}function l(e,t,r,n,o,i,s){var a=e+(t^r^n)+o+s;return(a<<i|a>>>32-i)+t}function f(e,t,r,n,o,i,s){var a=e+(r^(t|~n))+o+s;return(a<<i|a>>>32-i)+t}r.MD5=i._createHelper(u),r.HmacMD5=i._createHmacHelper(u)}(Math),e.MD5}(v())),M.exports}var R,H={exports:{}};function U(){return R||(R=1,H.exports=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.Hasher,i=t.algo,s=[],a=i.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],u=r[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var h=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=h<<1|h>>>31}var l=(n<<5|n>>>27)+u+s[c];l+=c<20?1518500249+(o&i|~o&a):c<40?1859775393+(o^i^a):c<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,u=a,a=i,i=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=o._createHelper(a),t.HmacSHA1=o._createHmacHelper(a)}(),e.SHA1}(v())),H.exports}var z,L={exports:{}};function j(){return z||(z=1,L.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,s=r.algo,a=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,o=0;o<64;)e(n)&&(o<8&&(a[o]=r(t.pow(n,.5))),u[o]=r(t.pow(n,1/3)),o++),n++}();var c=[],h=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],a=r[4],h=r[5],l=r[6],f=r[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var d=c[p-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=c[p-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=v+c[p-7]+y+c[p-16]}var _=n&o^n&i^o&i,m=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&h^~a&l)+u[p]+c[p];f=l,l=h,h=a,a=s+w|0,s=i,i=o,o=n,n=w+(m+_)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+h|0,r[6]=r[6]+l|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,o=8*e.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=t.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=i._createHelper(h),r.HmacSHA256=i._createHmacHelper(h)}(Math),e.SHA256}(v())),L.exports}var D,F={exports:{}};var N,K={exports:{}};function G(){return N||(N=1,K.exports=function(e){return function(){var t=e,r=t.lib.Hasher,n=t.x64,o=n.Word,i=n.WordArray,s=t.algo;function a(){return o.create.apply(o,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=a()}();var h=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],a=r[4],h=r[5],l=r[6],f=r[7],p=n.high,d=n.low,v=o.high,g=o.low,y=i.high,_=i.low,m=s.high,w=s.low,b=a.high,S=a.low,A=h.high,x=h.low,B=l.high,E=l.low,T=f.high,k=f.low,I=p,C=d,O=v,M=g,P=y,R=_,H=m,U=w,z=b,L=S,j=A,D=x,F=B,N=E,K=T,G=k,W=0;W<80;W++){var Y,V,q=c[W];if(W<16)V=q.high=0|e[t+2*W],Y=q.low=0|e[t+2*W+1];else{var X=c[W-15],Z=X.high,$=X.low,Q=(Z>>>1|$<<31)^(Z>>>8|$<<24)^Z>>>7,J=($>>>1|Z<<31)^($>>>8|Z<<24)^($>>>7|Z<<25),ee=c[W-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,oe=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=c[W-7],se=ie.high,ae=ie.low,ue=c[W-16],ce=ue.high,he=ue.low;V=(V=(V=Q+se+((Y=J+ae)>>>0<J>>>0?1:0))+ne+((Y+=oe)>>>0<oe>>>0?1:0))+ce+((Y+=he)>>>0<he>>>0?1:0),q.high=V,q.low=Y}var le,fe=z&j^~z&F,pe=L&D^~L&N,de=I&O^I&P^O&P,ve=C&M^C&R^M&R,ge=(I>>>28|C<<4)^(I<<30|C>>>2)^(I<<25|C>>>7),ye=(C>>>28|I<<4)^(C<<30|I>>>2)^(C<<25|I>>>7),_e=(z>>>14|L<<18)^(z>>>18|L<<14)^(z<<23|L>>>9),me=(L>>>14|z<<18)^(L>>>18|z<<14)^(L<<23|z>>>9),we=u[W],be=we.high,Se=we.low,Ae=K+_e+((le=G+me)>>>0<G>>>0?1:0),xe=ye+ve;K=F,G=N,F=j,N=D,j=z,D=L,z=H+(Ae=(Ae=(Ae=Ae+fe+((le+=pe)>>>0<pe>>>0?1:0))+be+((le+=Se)>>>0<Se>>>0?1:0))+V+((le+=Y)>>>0<Y>>>0?1:0))+((L=U+le|0)>>>0<U>>>0?1:0)|0,H=P,U=R,P=O,R=M,O=I,M=C,I=Ae+(ge+de+(xe>>>0<ye>>>0?1:0))+((C=le+xe|0)>>>0<le>>>0?1:0)|0}d=n.low=d+C,n.high=p+I+(d>>>0<C>>>0?1:0),g=o.low=g+M,o.high=v+O+(g>>>0<M>>>0?1:0),_=i.low=_+R,i.high=y+P+(_>>>0<R>>>0?1:0),w=s.low=w+U,s.high=m+H+(w>>>0<U>>>0?1:0),S=a.low=S+L,a.high=b+z+(S>>>0<L>>>0?1:0),x=h.low=x+D,h.high=A+j+(x>>>0<D>>>0?1:0),E=l.low=E+N,l.high=B+F+(E>>>0<N>>>0?1:0),k=f.low=k+G,f.high=T+K+(k>>>0<G>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(h),t.HmacSHA512=r._createHmacHelper(h)}(),e.SHA512}(v(),_())),K.exports}var W,Y={exports:{}};var V,q={exports:{}};function X(){return V||(V=1,q.exports=function(e){return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,s=r.x64.Word,a=r.algo,u=[],c=[],h=[];!function(){for(var e=1,t=0,r=0;r<24;r++){u[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var a=0,l=0,f=0;f<7;f++){if(1&o){var p=(1<<f)-1;p<32?l^=1<<p:a^=1<<p-32}128&o?o=o<<1^113:o<<=1}h[i]=s.create(a,l)}}();var l=[];!function(){for(var e=0;e<25;e++)l[e]=s.create()}();var f=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,o=0;o<n;o++){var i=e[t+2*o],s=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(k=r[o]).high^=s,k.low^=i}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var p=0,d=0,v=0;v<5;v++)p^=(k=r[f+5*v]).high,d^=k.low;var g=l[f];g.high=p,g.low=d}for(f=0;f<5;f++){var y=l[(f+4)%5],_=l[(f+1)%5],m=_.high,w=_.low;for(p=y.high^(m<<1|w>>>31),d=y.low^(w<<1|m>>>31),v=0;v<5;v++)(k=r[f+5*v]).high^=p,k.low^=d}for(var b=1;b<25;b++){var S=(k=r[b]).high,A=k.low,x=u[b];x<32?(p=S<<x|A>>>32-x,d=A<<x|S>>>32-x):(p=A<<x-32|S>>>64-x,d=S<<x-32|A>>>64-x);var B=l[c[b]];B.high=p,B.low=d}var E=l[0],T=r[0];for(E.high=T.high,E.low=T.low,f=0;f<5;f++)for(v=0;v<5;v++){var k=r[b=f+5*v],I=l[b],C=l[(f+1)%5+5*v],O=l[(f+2)%5+5*v];k.high=I.high^~C.high&O.high,k.low=I.low^~C.low&O.low}k=r[0];var M=h[a];k.high^=M.high,k.low^=M.low}},_doFinalize:function(){var e=this._data,r=e.words;this._nDataBytes;var n=8*e.sigBytes,i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,c=[],h=0;h<u;h++){var l=s[h],f=l.high,p=l.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(f)}return new o.init(c,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=i._createHelper(f),r.HmacSHA3=i._createHmacHelper(f)}(Math),e.SHA3}(v(),_())),q.exports}var Z,$={exports:{}};var Q,J={exports:{}};function ee(){return Q||(Q=1,J.exports=function(e){!function(){var t=e,r=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}()}(v())),J.exports}var te,re={exports:{}};var ne,oe={exports:{}};function ie(){return ne||(ne=1,oe.exports=function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,s=i.MD5,a=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),s=o.create(),a=s.words,u=n.keySize,c=n.iterations;a.length<u;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var h=1;h<c;h++)r=i.finalize(r),i.reset();s.concat(r)}return s.sigBytes=4*u,s}});t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)}}(),e.EvpKDF}(v(),U(),ee())),oe.exports}var se,ae={exports:{}};function ue(){return se||(se=1,ae.exports=function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,o=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,a=r.enc;a.Utf8;var u=a.Base64,c=r.algo.EvpKDF,h=n.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:y}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()});n.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=r.mode={},f=n.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=l.CBC=function(){var e=f.extend();function r(e,r,n){var o,i=this._iv;i?(o=i,this._iv=t):o=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);n.decryptBlock(e,t),r.call(this,e,t,o),this._prevBlock=i}}),e}(),d=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var u=i.create(s,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:d}),reset:function(){var e;h.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=n.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:t})}},y=n.SerializableCipher=o.extend({cfg:o.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),s=o.cfg;return v.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=c.create({keySize:t+r}).compute(e,n),s=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,v.create({key:o,iv:s,salt:n})}},m=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=y.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,y.decrypt.call(this,e,t,o.key,n)}})}()}(v(),ie())),ae.exports}var ce,he={exports:{}};function le(){return ce||(ce=1,he.exports=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function r(e,t,r,n){var o,i=this._iv;i?(o=i.slice(0),this._iv=void 0):o=this._prevBlock,n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize;r.call(this,e,t,o,n),this._prevBlock=e.slice(t,t+o)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,o=n.blockSize,i=e.slice(t,t+o);r.call(this,e,t,o,n),this._prevBlock=i}}),t}(),e.mode.CFB}(v(),ue())),he.exports}var fe,pe={exports:{}};function de(){return fe||(fe=1,pe.exports=function(e){return e.mode.CTR=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var s=i.slice(0);r.encryptBlock(s,0),i[n-1]=i[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=s[a]}}),t.Decryptor=r,t),e.mode.CTR;var t,r}(v(),ue())),pe.exports}var ve,ge={exports:{}};function ye(){return ve||(ve=1,ge.exports=function(e){
/** @preserve
    		   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
    		   * derived from CryptoJS.mode.CTR
    		   * Jan Hruby jhruby.web@gmail.com
    		   */
return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=r(e[0]))&&(e[1]=r(e[1])),e}var o=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),n(s);var a=s.slice(0);r.encryptBlock(a,0);for(var u=0;u<o;u++)e[t+u]^=a[u]}});return t.Decryptor=o,t}(),e.mode.CTRGladman}(v(),ue())),ge.exports}var _e,me={exports:{}};function we(){return _e||(_e=1,me.exports=function(e){return e.mode.OFB=(t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}}),t.Decryptor=r,t),e.mode.OFB;var t,r}(v(),ue())),me.exports}var be,Se={exports:{}};var Ae,xe={exports:{}};var Be,Ee={exports:{}};var Te,ke={exports:{}};var Ie,Ce={exports:{}};var Oe,Me={exports:{}};var Pe,Re={exports:{}};var He,Ue={exports:{}};var ze,Le={exports:{}};function je(){return ze||(ze=1,Le.exports=function(e){return function(){var t=e,r=t.lib,n=r.WordArray,o=r.BlockCipher,i=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var c=o[i]=[],h=u[i];for(r=0;r<24;r++)c[r/6|0]|=t[(a[r]-1+h)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(a[r+24]-1+h)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var l=this._invSubKeys=[];for(r=0;r<16;r++)l[r]=o[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var o=r[n],i=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=c[u][((s^o[u])&h[u])>>>0];this._lBlock=s,this._rBlock=i^a}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}t.DES=o._createHelper(l);var d=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),o=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=l.createEncryptor(n.create(t)),this._des2=l.createEncryptor(n.create(r)),this._des3=l.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=o._createHelper(d)}(),e.TripleDES}(v(),T(),P(),ie(),ue())),Le.exports}var De,Fe={exports:{}};var Ne,Ke={exports:{}};var Ge,We={exports:{}};l.exports=function(e){return e}(v(),_(),b(),x(),T(),C(),P(),U(),j(),D||(D=1,F.exports=function(e){return function(){var t=e,r=t.lib.WordArray,n=t.algo,o=n.SHA256,i=n.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(i),t.HmacSHA224=o._createHmacHelper(i)}(),e.SHA224}(v(),j())),G(),W||(W=1,Y.exports=function(e){return function(){var t=e,r=t.x64,n=r.Word,o=r.WordArray,i=t.algo,s=i.SHA512,a=i.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384}(v(),_(),G())),X(),Z||(Z=1,$.exports=function(e){
/** @preserve
    		  (c) 2012 by Cédric Mesnil. All rights reserved.
    		  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
    		  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
    		      - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
    		  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    		  */
return function(t){var r=e,n=r.lib,o=n.WordArray,i=n.Hasher,s=r.algo,a=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=i.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,s,p,w,b,S,A,x,B,E,T,k=this._hash.words,I=l.words,C=f.words,O=a.words,M=u.words,P=c.words,R=h.words;for(S=i=k[0],A=s=k[1],x=p=k[2],B=w=k[3],E=b=k[4],r=0;r<80;r+=1)T=i+e[t+O[r]]|0,T+=r<16?d(s,p,w)+I[0]:r<32?v(s,p,w)+I[1]:r<48?g(s,p,w)+I[2]:r<64?y(s,p,w)+I[3]:_(s,p,w)+I[4],T=(T=m(T|=0,P[r]))+b|0,i=b,b=w,w=m(p,10),p=s,s=T,T=S+e[t+M[r]]|0,T+=r<16?_(A,x,B)+C[0]:r<32?y(A,x,B)+C[1]:r<48?g(A,x,B)+C[2]:r<64?v(A,x,B)+C[3]:d(A,x,B)+C[4],T=(T=m(T|=0,R[r]))+E|0,S=E,E=B,B=m(x,10),x=A,A=T;T=k[1]+p+B|0,k[1]=k[2]+w+E|0,k[2]=k[3]+b+S|0,k[3]=k[4]+i+A|0,k[4]=k[0]+s+x|0,k[0]=T},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function _(e,t,r){return e^(t|~r)}function m(e,t){return e<<t|e>>>32-t}r.RIPEMD160=i._createHelper(p),r.HmacRIPEMD160=i._createHmacHelper(p)}(),e.RIPEMD160}(v())),ee(),te||(te=1,re.exports=function(e){return function(){var t=e,r=t.lib,n=r.Base,o=r.WordArray,i=t.algo,s=i.SHA1,a=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=a.create(r.hasher,e),i=o.create(),s=o.create([1]),u=i.words,c=s.words,h=r.keySize,l=r.iterations;u.length<h;){var f=n.update(t).finalize(s);n.reset();for(var p=f.words,d=p.length,v=f,g=1;g<l;g++){v=n.finalize(v),n.reset();for(var y=v.words,_=0;_<d;_++)p[_]^=y[_]}i.concat(f),c[0]++}return i.sigBytes=4*h,i}});t.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}}(),e.PBKDF2}(v(),U(),ee())),ie(),ue(),le(),de(),ye(),we(),be||(be=1,Se.exports=function(e){return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB;var t}(v(),ue())),Ae||(Ae=1,xe.exports=function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,o=n-r%n,i=r+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(v(),ue())),Be||(Be=1,Ee.exports=function(e){return e.pad.Iso10126={pad:function(t,r){var n=4*r,o=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(v(),ue())),Te||(Te=1,ke.exports=function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(v(),ue())),Ie||(Ie=1,Ce.exports=function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},e.pad.ZeroPadding}(v(),ue())),Oe||(Oe=1,Me.exports=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(v(),ue())),Pe||(Pe=1,Re.exports=function(e){return function(t){var r=e,n=r.lib.CipherParams,o=r.enc.Hex;r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return n.create({ciphertext:t})}}}(),e.format.Hex}(v(),ue())),He||(He=1,Ue.exports=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,o=[],i=[],s=[],a=[],u=[],c=[],h=[],l=[],f=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,o[r]=d,i[d]=r;var v=e[r],g=e[v],y=e[g],_=257*e[d]^16843008*d;s[r]=_<<24|_>>>8,a[r]=_<<16|_>>>16,u[r]=_<<8|_>>>24,c[r]=_,_=16843009*y^65537*g^257*v^16843008*r,h[d]=_<<24|_>>>8,l[d]=_<<16|_>>>16,f[d]=_<<8|_>>>24,p[d]=_,r?(r=v^e[e[e[y^v]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)s<r?i[s]=t[s]:(c=i[s-1],s%r?r>6&&s%r==4&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c]):(c=o[(c=c<<8|c>>>24)>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c],c^=d[s/r|0]<<24),i[s]=i[s-r]^c);for(var a=this._invKeySchedule=[],u=0;u<n;u++){if(s=n-u,u%4)var c=i[s];else c=i[s-4];a[u]=u<4||s<=4?c:h[o[c>>>24]]^l[o[c>>>16&255]]^f[o[c>>>8&255]]^p[o[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,u,c,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,h,l,f,p,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,s,a){for(var u=this._nRounds,c=e[t]^r[0],h=e[t+1]^r[1],l=e[t+2]^r[2],f=e[t+3]^r[3],p=4,d=1;d<u;d++){var v=n[c>>>24]^o[h>>>16&255]^i[l>>>8&255]^s[255&f]^r[p++],g=n[h>>>24]^o[l>>>16&255]^i[f>>>8&255]^s[255&c]^r[p++],y=n[l>>>24]^o[f>>>16&255]^i[c>>>8&255]^s[255&h]^r[p++],_=n[f>>>24]^o[c>>>16&255]^i[h>>>8&255]^s[255&l]^r[p++];c=v,h=g,l=y,f=_}v=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&f])^r[p++],g=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^r[p++],y=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^r[p++],_=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^r[p++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=_},keySize:8});t.AES=r._createHelper(v)}(),e.AES}(v(),T(),P(),ie(),ue())),je(),De||(De=1,Fe.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,o=n.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var i=0;o<256;o++){var s=o%r,a=t[s>>>2]>>>24-s%4*8&255;i=(i+n[o]+a)%256;var u=n[o];n[o]=n[i],n[i]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,o=0;o<4;o++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*o}return this._i=t,this._j=r,n}t.RC4=r._createHelper(o);var s=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});t.RC4Drop=r._createHelper(s)}(),e.RC4}(v(),T(),P(),ie(),ue())),Ne||(Ne=1,Ke.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,o=[],i=[],s=[],a=n.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(t){var i=t.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=c>>>16|4294901760&h,f=h<<16|65535&c;for(o[0]^=c,o[1]^=l,o[2]^=h,o[3]^=f,o[4]^=c,o[5]^=l,o[6]^=h,o[7]^=f,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],o=65535&n,a=n>>>16,u=((o*o>>>17)+o*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=r._createHelper(a)}(),e.Rabbit}(v(),T(),P(),ie(),ue())),Ge||(Ge=1,We.exports=function(e){return function(){var t=e,r=t.lib.StreamCipher,n=t.algo,o=[],i=[],s=[],a=n.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)u.call(this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(t){var i=t.words,s=i[0],a=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=c>>>16|4294901760&h,f=h<<16|65535&c;for(n[0]^=c,n[1]^=l,n[2]^=h,n[3]^=f,n[4]^=c,n[5]^=l,n[6]^=h,n[7]^=f,o=0;o<4;o++)u.call(this)}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],o=65535&n,a=n>>>16,u=((o*o>>>17)+o*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=r._createHelper(a)}(),e.RabbitLegacy}(v(),T(),P(),ie(),ue())));var Ye=c(l.exports);
/**
                           * @license
                           * author: 
                           * ecies-ed25519-js.js v1.0.1
                           * Released under the MIT license.
                           */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
const Ve=2n**255n-19n,qe=2n**252n+27742317777372353535851937790883648493n,Xe=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Ze=0x6666666666666666666666666666666666666666666666666666666666666658n,$e={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:Ve,n:qe,h:8,Gx:Xe,Gy:Ze},Qe=(e="")=>{throw new Error(e)},Je=e=>"string"==typeof e,et=(e,t)=>!(e instanceof Uint8Array)||"number"==typeof t&&t>0&&e.length!==t?Qe("Uint8Array expected"):e,tt=e=>new Uint8Array(e),rt=(e,t=Ve)=>{let r=e%t;return r>=0n?r:t+r},nt=e=>e instanceof it?e:Qe("Point expected");let ot;class it{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n}static fromAffine(e){return new it(e.x,e.y,1n,rt(e.x*e.y))}static fromHex(e,t=!0){const{d:r}=$e;var n;const o=(e=et(Je(n=e)?ht(n):tt(n),32)).slice();o[31]=-129&e[31];const i=ft(o);0n===i||(!t||0n<i&&i<Ve||Qe("bad y coord 1"),t||0n<i&&i<2n**256n||Qe("bad y coord 2"));const s=rt(i*i),a=rt(s-1n),u=rt(r*s+1n);let{isValid:c,value:h}=yt(a,u);c||Qe("bad y coordinate 3");const l=1n===(1n&h);return 0!=(128&e[31])!==l&&(h=rt(-h)),new it(h,i,1n,rt(h*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:r,ez:n}=this,{ex:o,ey:i,ez:s}=nt(e),a=rt(t*s),u=rt(o*n),c=rt(r*s),h=rt(i*n);return a===u&&c===h}is0(){return this.equals(at)}negate(){return new it(rt(-this.ex),this.ey,this.ez,rt(-this.et))}double(){const{ex:e,ey:t,ez:r}=this,{a:n}=$e,o=rt(e*e),i=rt(t*t),s=rt(2n*rt(r*r)),a=rt(n*o),u=e+t,c=rt(rt(u*u)-o-i),h=a+i,l=h-s,f=a-i,p=rt(c*l),d=rt(h*f),v=rt(c*f),g=rt(l*h);return new it(p,d,g,v)}add(e){const{ex:t,ey:r,ez:n,et:o}=this,{ex:i,ey:s,ez:a,et:u}=nt(e),{a:c,d:h}=$e,l=rt(t*i),f=rt(r*s),p=rt(o*h*u),d=rt(n*a),v=rt((t+r)*(i+s)-l-f),g=rt(d-p),y=rt(d+p),_=rt(f-c*l),m=rt(v*g),w=rt(y*_),b=rt(v*_),S=rt(g*y);return new it(m,w,S,b)}mul(e,t=!0){if(0n===e)return!0===t?Qe("cannot multiply by 0"):at;if("bigint"==typeof e&&0n<e&&e<qe||Qe("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(st))return bt(e).p;let r=at,n=st;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?r=r.add(o):t&&(n=n.add(o));return r}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt($e.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(qe/2n,!1).double();return qe%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:r}=this;if(this.is0())return{x:0n,y:0n};const n=dt(r);return 1n!==rt(r*n)&&Qe("invalid inverse"),{x:rt(e*n),y:rt(t*n)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=lt(t);return r[31]|=1n&e?128:0,r}toHex(){return ct(this.toRawBytes())}}it.BASE=new it(Xe,Ze,1n,rt(Xe*Ze)),it.ZERO=new it(0n,1n,1n,0n);const{BASE:st,ZERO:at}=it,ut=(e,t)=>e.toString(16).padStart(t,"0"),ct=e=>Array.from(e).map((e=>ut(e,2))).join(""),ht=e=>{const t=e.length;(!Je(e)||t%2)&&Qe("hex invalid 1");const r=tt(t/2);for(let t=0;t<r.length;t++){const n=2*t,o=e.slice(n,n+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&Qe("hex invalid 2"),r[t]=i}return r},lt=e=>ht(ut(e,64)).reverse(),ft=e=>BigInt("0x"+ct(tt(et(e)).reverse())),pt=(...e)=>{const t=tt(e.reduce(((e,t)=>e+et(t).length),0));let r=0;return e.forEach((e=>{t.set(e,r),r+=e.length})),t},dt=(e,t=Ve)=>{(0n===e||t<=0n)&&Qe("no inverse n="+e+" mod="+t);let r=rt(e,t),n=t,o=0n,i=1n;for(;0n!==r;){const e=n%r,t=o-i*(n/r);n=r,r=e,o=i,i=t}return 1n===n?rt(o,t):Qe("no inverse")},vt=(e,t)=>{let r=e;for(;t-- >0n;)r*=r,r%=Ve;return r},gt=19681161376707505956807079304988542015446066515923890162744021073123829784752n,yt=(e,t)=>{const r=rt(t*t*t),n=(e=>{const t=e*e%Ve*e%Ve,r=vt(t,2n)*t%Ve,n=vt(r,1n)*e%Ve,o=vt(n,5n)*n%Ve,i=vt(o,10n)*o%Ve,s=vt(i,20n)*i%Ve,a=vt(s,40n)*s%Ve,u=vt(a,80n)*a%Ve,c=vt(u,80n)*a%Ve,h=vt(c,10n)*o%Ve;return{pow_p_5_8:vt(h,2n)*e%Ve,b2:t}})(e*rt(r*r*t)).pow_p_5_8;let o=rt(e*r*n);const i=rt(t*o*o),s=o,a=rt(o*gt),u=i===e,c=i===rt(-e),h=i===rt(-e*gt);return u&&(o=s),(c||h)&&(o=a),1n===(1n&rt(o))&&(o=rt(-o)),{isValid:u||c,value:o}};let _t;const mt=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,wt={bytesToHex:ct,hexToBytes:ht,concatBytes:pt,mod:rt,invert:dt,randomBytes:e=>{const t=mt();return t||Qe("crypto.getRandomValues must be defined"),t.getRandomValues(tt(e))},sha512Async:async(...e)=>{const t=mt();t||Qe("crypto.subtle or etc.sha512Async must be defined");const r=pt(...e);return tt(await t.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(wt,{sha512Sync:{configurable:!1,get:()=>_t,set(e){_t||(_t=e)}}});const bt=e=>{const t=ot||(ot=(()=>{const e=[];let t=st,r=t;for(let n=0;n<33;n++){r=t,e.push(r);for(let n=1;n<128;n++)r=r.add(t),e.push(r);t=r.double()}return e})()),r=(e,t)=>{let r=t.negate();return e?r:t};let n=at,o=st;const i=BigInt(255),s=BigInt(8);for(let a=0;a<33;a++){const u=128*a;let c=Number(e&i);e>>=s,c>128&&(c-=256,e+=1n);const h=u,l=u+Math.abs(c)-1,f=a%2!=0,p=c<0;0===c?o=o.add(r(f,t[h])):n=n.add(r(p,t[l]))}return{p:n,f:o}};let St,At,xt;const Bt=()=>{const e=xt.Bip39.randomMnemonic(128),t=xt.Bip39.mnemonicToSeed(e).slice(0,xt.Ed25519.SEED_SIZE),r=xt.Ed25519.privateKeyFromSeed(t);return{secret:t,publicKey:xt.Ed25519.publicKeyFromPrivateKey(r)}},Et=(e,t)=>{let r=it.fromHex(wt.bytesToHex(t));const n=(o=function(e){if((e=e.slice(0,xt.Ed25519.SEED_SIZE)).length!==xt.Ed25519.SEED_SIZE)throw new Error("Invalid seed length");const t=new xt.Sha512;t.update(e);const r=t.digest();return r[0]&=248,r[31]&=127,r[31]|=64,r.slice(0,32)}(e),rt(ft(o),qe));var o;return r=r.multiply(n),r.toRawBytes()},Tt=async(e,t,r,n)=>{let{pair:o,isPrefix:i=!0}=n??{};o||(o=Bt());const{secret:s,publicKey:a}=o,u=wt.bytesToHex(await(async(e,t,r,n)=>{if(32!==r.length)throw new Error("Receiver public key must be 32 bytes.");const o=Et(e,r);return await At(wt.concatBytes(t,o),64,n)})(s,a,e,r)),c=kt(t,u),h=wt.hexToBytes(c);return{ephemeralPublicKey:a,aesKey:u,encrypted:c,payload:i?wt.concatBytes(a,h):h}},kt=(e,t)=>{const r=St.enc.Utf8.parse(e),{key:n,iv:o}=Ct(t);return St.AES.encrypt(r,n,{iv:o,mode:St.mode.CBC,padding:St.pad.Pkcs7}).ciphertext.toString(St.enc.Hex)},It=async(e,t,r,n)=>{let{isPublicKeyPrefixed:o=!0,ephemeralPublicKey:i}=n??{},s=t;o&&(i=t.slice(0,32),s=t.slice(32));const a=wt.bytesToHex(await(async(e,t,r)=>{const n=Et(t,e);return await At(wt.concatBytes(e,n),64,r)})(i,e,r));return{ephemeralPublicKey:i,encrypted:s,aesKey:a,payload:Ot(wt.bytesToHex(s),a)}},Ct=e=>{const t=St.MD5(e).toString(),r=St.PBKDF2(t,t,{keySize:16,iterations:1e3}),n=St.PBKDF2(r.toString(),r.toString(),{keySize:16,iterations:1e3});return{key:r,iv:n}},Ot=(e,t)=>{const{key:r,iv:n}=Ct(t),o=St.enc.Hex.parse(e),i=St.lib.CipherParams.create({ciphertext:o});return St.AES.decrypt(i,r,{iv:n,mode:St.mode.CBC,padding:St.pad.Pkcs7}).toString(St.enc.Utf8)},Mt=async({payloadList:e,tag:t})=>{const r=Bt(),n=[];for(let o=0;o<e.length;o++){const i=e[o],{publicKey:s,content:a}=i,{payload:u}=await Tt(s,a,t,{pair:r,isPrefix:0==o});i.payload=u,n.push(i)}return n},Pt=async({receiverSecret:e,payloadList:t,tag:r,idx:n})=>{const o=[];let i;for(let e=0;e<t.length;e++){let{payload:r}=t[e];0==e&&(i=r.slice(0,32),r=r.slice(32)),o.push(r)}const s=o[n];return await It(e,s,r,{isPublicKeyPrefixed:!1,ephemeralPublicKey:i})};
/**
                           * @license
                           * author: TanglePay
                           * iotacat-sdk-utils.js v0.0.1
                           * Released under the Apache-2.0 license.
                           */"function"==typeof SuppressedError&&SuppressedError;var Rt=function(e,t){return new Promise((function(r,n){for(var o=function(e,t,r){return{tasks:e,resolve:t,totalWorkers:r,finishedWorkers:0,results:[]}}(e.map((function(e,t){return{idx:t,asyncFunc:e}})),r,t),i=function(){var e=o;setTimeout((function(){!function(e,t){!function(e,t,r,n){new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,r,n,o,i,s,a,u;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(c){switch(c.label){case 0:if(t=e.tasks.pop())return[3,1];if(e.finishedWorkers++,e.finishedWorkers===e.totalWorkers){for(r=[],console.log("runbatch context.results:",e.results),n=e.results.reduce((function(e,t){return e[t.idx]=t.result,e}),{}),console.log("runbatch map:",n),o=0;o<e.results.length;o++)r.push(null!==(u=n[o])&&void 0!==u?u:void 0);console.log("resolve",r),e.resolve(r)}return[3,6];case 1:i=t.idx,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,t.asyncFunc()];case 3:return s=c.sent(),console.log(i,s),e.results.push({idx:i,result:s}),console.log(i,s,e.results[e.results.length-1]),[3,5];case 4:return a=c.sent(),console.log(a),[3,5];case 5:return[3,0];case 6:return[2]}}))}))}(e)}),0)};t-- >0;)i()}))},Ht=function(t,n){var o=r.Converter.utf8ToBytes(t),i=r.Converter.utf8ToBytes(n);return e.Blake2b.sum160(o,i)},Ut=function(e){return r.Converter.hexToBytes(e)},zt=function(e,t){return void 0===t&&(t=!1),r.Converter.bytesToHex(e,t)},Lt=function(e){return r.Converter.utf8ToBytes(e)},jt=function(e){return r.Converter.bytesToUtf8(e)},Dt=function(e){var t=Object.keys(e);if(0===t.length)return"";for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n],s=e[i];void 0!==s&&r.push("".concat(i,"=").concat(encodeURIComponent(s)))}return"?".concat(r.join("&"))},Ft=function(e){var t=new Uint8Array(1);return t[0]=255&e,t},Nt=function(e){var t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t},Kt=function(e){if(4!==e.length)throw new Error("bytes length is not 4");return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]},Gt={exports:{}};!function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(r){return o(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var s=t.charCodeAt(n);r[2*n]=s>>>8,r[2*n+1]=s%256}return r},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var r=new Array(t.length/2),n=0,o=r.length;n<o;n++)r[n]=256*t[2*n]+t[2*n+1];var s=[];return r.forEach((function(t){s.push(e(t))})),i.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(r,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,o,i,s={},a={},u="",c="",h="",l=2,f=3,p=2,d=[],v=0,g=0;for(i=0;i<e.length;i+=1)if(u=e.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,a[u]=!0),c=h+u,Object.prototype.hasOwnProperty.call(s,c))h=c;else{if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,g==t-1?(g=0,d.push(r(v)),v=0):g++;for(o=h.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1}else{for(o=1,n=0;n<p;n++)v=v<<1|o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1}0==--l&&(l=Math.pow(2,p),p++),delete a[h]}else for(o=s[h],n=0;n<p;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1;0==--l&&(l=Math.pow(2,p),p++),s[c]=f++,h=String(u)}if(""!==h){if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,g==t-1?(g=0,d.push(r(v)),v=0):g++;for(o=h.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1}else{for(o=1,n=0;n<p;n++)v=v<<1|o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o=0;for(o=h.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1}0==--l&&(l=Math.pow(2,p),p++),delete a[h]}else for(o=s[h],n=0;n<p;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1;0==--l&&(l=Math.pow(2,p),p++)}for(o=2,n=0;n<p;n++)v=v<<1|1&o,g==t-1?(g=0,d.push(r(v)),v=0):g++,o>>=1;for(;;){if(v<<=1,g==t-1){d.push(r(v));break}g++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var o,i,s,a,u,c,h,l=[],f=4,p=4,d=3,v="",g=[],y={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)l[o]=o;for(s=0,u=Math.pow(2,2),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;h=e(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;h=e(s);break;case 2:return""}for(l[3]=h,i=h,g.push(h);;){if(y.index>t)return"";for(s=0,u=Math.pow(2,d),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(h=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;l[p++]=e(s),h=p-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(a>0?1:0)*c,c<<=1;l[p++]=e(s),h=p-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[h])v=l[h];else{if(h!==p)return null;v=i+i.charAt(0)}g.push(v),l[p++]=i+v.charAt(0),i=v,0==--f&&(f=Math.pow(2,d),d++)}}};return i}();null!=e?e.exports=t:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",(function(){return t}))}(Gt);var Wt=c(Gt.exports),Yt=function(e,t){return Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Yt(e,t)},Vt=function(){return Vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vt.apply(this,arguments)};function qt(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function Xt(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}"function"==typeof SuppressedError&&SuppressedError;var Zt="test.api.iotacat.com",$t=1,Qt=20,Jt=32;function er(){}function tr(){tr.init.call(this)}function rr(e){return void 0===e._maxListeners?tr.defaultMaxListeners:e._maxListeners}function nr(e,t,r,n){var o,i,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]):(i=e._events=new er,e._eventsCount=0),s){if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(o=rr(e))&&o>0&&s.length>o){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=i[t]=r,++e._eventsCount;return e}function or(e,t,r){var n=!1;function o(){e.removeListener(t,o),n||(n=!0,r.apply(e,arguments))}return o.listener=r,o}function ir(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function sr(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function ar(e,t){if(t.addr.byteLength!==Qt)throw new Error("Address length is not ".concat(Qt," bytes"));if(t.mkey.byteLength>1024)throw new Error("mkey length is greater than 1024 bytes");e.writeBytes("addr",Qt,t.addr),e.writeUInt16("mkey_length",t.mkey.byteLength),e.writeBytes("mkey",t.mkey.byteLength,t.mkey)}function ur(e){var t=e.readBytes("addr",Qt),r=e.readUInt16("mkey_length");return{addr:t,mkey:e.readBytes("mkey",r)}}function cr(e,t){e.writeUInt8("num_recipients",t.length);for(var r=0,n=t;r<n.length;r++)ar(e,n[r])}function hr(e){for(var t=e.readUInt8("num_recipients"),r=[],n=0;n<t;n++)r.push(ur(e));return r}function lr(e){var t=new r.WriteStream;return function(e,t){e.writeUInt8("schema_version",$t);for(var r=0,n=t;r<n.length;r++){var o=n[r],i=o.groupId,s=o.timestamp;if(i.byteLength!==Jt)throw new Error("groupId length is not ".concat(Jt," bytes"));if(4!==s.byteLength)throw new Error("timestamp length is not 4 bytes");e.writeBytes("groupId",Jt,i),e.writeBytes("timestamp",4,s)}}(t,e.map((function(e){return{groupId:r.Converter.hexToBytes(e.groupId),timestamp:Nt(e.timestamp)}}))),t.finalBytes()}function fr(e){var t=function(e){var t=e.readUInt8("schema_version");if(t!==$t)throw new Error("schema version ".concat(t," is not supported"));for(var r=[];e.hasRemaining(1);){var n=e.readBytes("groupId",Jt),o=e.readBytes("timestamp",4);r.push({groupId:n,timestamp:o})}return r}(new r.ReadStream(e));return console.log("deserializeUserMarkedGroupIds listIntermediate",t),t.map((function(e){return{groupId:r.Converter.bytesToHex(e.groupId),timestamp:Kt(e.timestamp)}}))}function pr(e){var t=new r.WriteStream;return function(e,t){e.writeUInt8("schema_version",$t);for(var r=0,n=t;r<n.length;r++){var o=n[r],i=o.groupId,s=o.addrSha256Hash;if(32!==i.byteLength)throw new Error("groupId length is not 32 bytes");if(32!==s.byteLength)throw new Error("addrSha256Hash length is not 32 bytes");e.writeBytes("groupId",32,i),e.writeBytes("memberId",32,s)}}(t,e.map((function(e){return{groupId:r.Converter.hexToBytes(e.groupId),addrSha256Hash:r.Converter.hexToBytes(e.addrSha256Hash)}}))),t.finalBytes()}function dr(e){return function(e){var t=e.readUInt8("schema_version");if(t!==$t)throw new Error("schema version ".concat(t," is not supported"));for(var r=[];e.hasRemaining(1);){var n=e.readBytes("groupId",32),o=e.readBytes("addrSha256Hash",32);r.push({groupId:n,addrSha256Hash:o})}return r}(new r.ReadStream(e)).map((function(e){return{groupId:r.Converter.bytesToHex(e.groupId),addrSha256Hash:r.Converter.bytesToHex(e.addrSha256Hash)}}))}function vr(e){var t=new r.WriteStream;return function(e,t){e.writeUInt8("schema_version",$t);for(var r=0,n=t;r<n.length;r++){var o=n[r],i=o.groupId,s=o.vote;if(32!==i.byteLength)throw new Error("groupId length is not 32 bytes");if(1!==s.byteLength)throw new Error("vote length is not 1 bytes");e.writeBytes("groupId",32,i),e.writeBytes("vote",1,s)}}(t,e.map((function(e){return{groupId:r.Converter.hexToBytes(e.groupId),vote:Ft(e.vote)}}))),t.finalBytes()}function gr(e){return function(e){var t=e.readUInt8("schema_version");if(t!==$t)throw new Error("schema version ".concat(t," is not supported"));for(var r=[];e.hasRemaining(1);){var n=e.readBytes("groupId",32),o=e.readBytes("vote",1);r.push({groupId:n,vote:o})}return r}(new r.ReadStream(e)).map((function(e){return{groupId:r.Converter.bytesToHex(e.groupId),vote:e.vote[0]}}))}!function(e){function t(){var t=e.call(this,"members in group exceed ".concat(100))||this;return t.name=t.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(t,t.constructor),t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Yt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e)}(Error),er.prototype=Object.create(null),tr.EventEmitter=tr,tr.usingDomains=!1,tr.prototype.domain=void 0,tr.prototype._events=void 0,tr.prototype._maxListeners=void 0,tr.defaultMaxListeners=10,tr.init=function(){this.domain=null,tr.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new er,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},tr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},tr.prototype.getMaxListeners=function(){return rr(this)},tr.prototype.emit=function(e){var t,r,n,o,i,s,a,u="error"===e;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var h="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,o=sr(e,n),i=0;i<n;++i)o[i].call(r)}(r,h,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,i=sr(e,o),s=0;s<o;++s)i[s].call(r,n)}(r,h,this,arguments[1]);break;case 3:!function(e,t,r,n,o){if(t)e.call(r,n,o);else for(var i=e.length,s=sr(e,i),a=0;a<i;++a)s[a].call(r,n,o)}(r,h,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,o,i){if(t)e.call(r,n,o,i);else for(var s=e.length,a=sr(e,s),u=0;u<s;++u)a[u].call(r,n,o,i)}(r,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),i=1;i<n;i++)o[i-1]=arguments[i];!function(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,i=sr(e,o),s=0;s<o;++s)i[s].apply(r,n)}(r,h,this,o)}return!0},tr.prototype.addListener=function(e,t){return nr(this,e,t,!1)},tr.prototype.on=tr.prototype.addListener,tr.prototype.prependListener=function(e,t){return nr(this,e,t,!0)},tr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,or(this,e,t)),this},tr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,or(this,e,t)),this},tr.prototype.removeListener=function(e,t){var r,n,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new er:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length;i-- >0;)if(r[i]===t||r[i].listener&&r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new er,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o);n.removeListener&&this.emit("removeListener",e,s||t)}return this},tr.prototype.off=function(e,t){return this.removeListener(e,t)},tr.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new er,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new er:delete r[e]),this;if(0===arguments.length){for(var n,o=Object.keys(r),i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new er,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},tr.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},tr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ir.call(e,t)},tr.prototype.listenerCount=ir,tr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var yr=function(e){return e.prev.next=e.next,e.next.prev=e.prev,e.next=null,e.prev=null,e},_r=function(e,t){var r=t.head;e.next=r.next,e.prev=r,r.next.prev=e,r.next=e},mr=new(function(){function e(){this.groupMap={iceberg:{groupName:"iceberg",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-1":{groupName:"iceberg-collection-1",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-2":{groupName:"iceberg-collection-2",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-3":{groupName:"iceberg-collection-3",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-4":{groupName:"iceberg-collection-4",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-5":{groupName:"iceberg-collection-5",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-6":{groupName:"iceberg-collection-6",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-7":{groupName:"iceberg-collection-7",schemaVersion:$t,messageType:1,authScheme:2},"iceberg-collection-8":{groupName:"iceberg-collection-8",schemaVersion:$t,messageType:1,authScheme:2},"smr-whale":{groupName:"smr-whale",schemaVersion:$t,messageType:1,authScheme:2}},this._groupIdCache={},this._events=new tr}return e.prototype._groupToGroupId=function(e){var t=this._groupNameToGroupMeta(e);if(t)return this._groupMetaToGroupId(t)},e.prototype._groupNameToGroupMeta=function(e){return this.groupMap[e]},e.prototype._groupIdToGroupMeta=function(e){for(var t in this.groupMap){var r=this.groupMap[t];if(this._groupMetaToGroupId(r)===e)return r}},e.prototype._groupMetaToGroupId=function(e){var t=Object.keys(e).sort().reduce((function(t,r){return t[r]=""+e[r],t}),{});return Ye.SHA256(JSON.stringify(t)).toString(Ye.enc.Hex)},e.prototype.addressToInboxId=function(e){return this._sha256Hash(e)},e.prototype._sha256Hash=function(e){return Ye.SHA256(e).toString(Ye.enc.Hex)},e.prototype._groupIdToGroupMembers=function(e){return this._groupIdCache[e]||[]},e.prototype.setupMqttConnection=function(e){var t=e("wss://".concat(Zt,"/api/groupfi/mqtt/v1"));t.on("connect",(function(){console.log("mqtt connected")})),t.on("close",(function(){console.log("mqtt closed")})),t.on("disconnect",(function(){console.log("mqtt disconnected")})),t.on("error",(function(e){console.log("mqtt error",e)})),t.on("message",this._handleMqttMessage.bind(this)),this._mqttClient=t},e.prototype._handleMqttMessage=function(e,t){var r=this.parsePushedValue(t);console.log("mqtt message",e,r),this._events.emit("inbox",r)},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype._ensureMqttClient=function(){if(!this._mqttClient)throw new Error("mqtt client not setup")},e.prototype.switchMqttAddress=function(e){return qt(this,void 0,void 0,(function(){var t,r,n,o;return Xt(this,(function(i){switch(i.label){case 0:return this._ensureMqttClient(),[4,this._fetchAddressGroupIds(e)];case 1:for(t=i.sent(),r=0,n=t;r<n.length;r++)o=n[r],this.subscribeToGroupId(o);return[2]}}))}))},e.prototype.subscribeToGroupId=function(e){this._ensureMqttClient(),this._mqttClient.subscribe("inbox/".concat(e))},e.prototype.prepareSendMessage=function(e,t,r){return qt(this,void 0,void 0,(function(){var e,n,o,i,s;return Xt(this,(function(a){return(e=this._groupNameToGroupMeta(t))?(n=e.schemaVersion,o=e.messageType,i=e.authScheme,s=this._groupMetaToGroupId(e),[2,{schemaVersion:n,groupId:s,messageType:o,authScheme:i,recipients:[],data:r}]):[2,void 0]}))}))},e.prototype.fetchIpfsOrigins=function(e){return qt(this,void 0,void 0,(function(){var e;return Xt(this,(function(t){switch(t.label){case 0:return e="".concat("https://api.iotaichi.com","/nft.json?v=").concat((new Date).getTime()),[4,fetch(e)];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().ipfsOrigins]}}))}))},e.prototype.fetchAddressQualifiedGroups=function(e,t){return qt(this,void 0,void 0,(function(){var r;return Xt(this,(function(n){switch(n.label){case 0:return r="https://".concat(Zt,"/api/groupfi/v1/addressgroupdetails?address=").concat(e),[4,fetch(r)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent().map((function(e){var r=t[Math.floor(Math.random()*t.length)];return 0===e.ipfsLink.indexOf("ipfs://")&&(e.ipfsLink="".concat(r,"/ipfs/").concat(e.ipfsLink.replace("ipfs://",""))),e}))]}}))}))},e.prototype.fetchGroupQualifiedAddresses=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupqualifiedaddresses?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchGroupMarkedAddresses=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupmarkedaddresses?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchGroupMemberAddresses=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupmemberaddresses?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchGroupVotes=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupvotes?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchGroupVotesCount=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupvotescount?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchGroupBlacklist=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/groupblacklist?groupId=0x").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.fetchAddressMemberGroups=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/addressmembergroups?address=").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype.checkIsGroupPublicFromSharedApiCall=function(e){return qt(this,void 0,void 0,(function(){var t,r,n;return Xt(this,(function(o){switch(o.label){case 0:t="https://".concat(Zt,"/api/groupfi/v1/shared?groupId=0x").concat(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:return(r=o.sent()).ok||901!==r.status?[2,!1]:[2,!0];case 3:return n=o.sent(),console.log("error",n),[2,!1];case 4:return[2]}}))}))},e.prototype.setPublicKeyForPreparedMessage=function(e,t){if(null==e.recipients)throw new Error("recipients is null");e.recipients=e.recipients.map((function(e){return e.mkey=t[e.addr],e}))},e.prototype._generateRandomStr=function(e){for(var t=[],r=0;r<e;r++)t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+".charAt(Math.floor(74*Math.random())));return t.join("")},e.prototype._fetchAddressGroupIds=function(e){return qt(this,void 0,void 0,(function(){var t;return Xt(this,(function(r){switch(r.label){case 0:return t="https://".concat(Zt,"/api/groupfi/v1/addressgroupids?address=").concat(e),[4,fetch(t)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},e.prototype._compressMessageText=function(e){var t=Wt.compress(e.data);e.data=t},e.prototype._decompressMessageText=function(e){var t=Wt.decompress(e.data);e.data=t},e.prototype.serializeMessage=function(e,t){return qt(this,void 0,void 0,(function(){var n,o,i,s,a,u,c,h=this;return Xt(this,(function(l){switch(l.label){case 0:return n=t.encryptUsingPublicKey,o=t.groupSaltResolver,i=e.groupId,Ut(i),this._compressMessageText(e),1!==e.messageType?[3,5]:(s="",1!==e.authScheme?[3,1]:(s=this._generateRandomStr(32),[3,3]));case 1:if(2!==e.authScheme)return[3,3];if(!o)throw new Error("groupSaltResolver is required for MessageAuthSchemeRecipeintOnChain");return[4,o(e.groupId)];case 2:s=l.sent(),l.label=3;case 3:if(e.data=this._encrypt(e.data,s),1!==e.authScheme)return[3,5];if(!n)throw new Error("encryptUsingPublicKey is required for MessageAuthSchemeRecipeintInMessage");if(null==e.recipients)throw new Error("recipients is null");return a=e,[4,Promise.all(e.recipients.map((function(e){return qt(h,void 0,void 0,(function(){var t,r;return Xt(this,(function(o){switch(o.label){case 0:return t=e,r=zt,[4,n(e.mkey,s)];case 1:return t.mkey=r.apply(void 0,[o.sent()]),[2,e]}}))}))})))];case 4:a.recipients=l.sent(),l.label=5;case 5:return u=this._compileMessage(e),function(e,t){if(e.writeUInt8("schema_version",t.schemaVersion),t.groupId.byteLength!==Jt)throw new Error("groupId length is not 32 bytes");if(e.writeBytes("groupId",Jt,t.groupId),e.writeUInt8("message_type",t.messageType),e.writeUInt8("auth_scheme",t.authScheme),1===t.messageType)if(2==t.authScheme){if(null==t.recipientOutputid)throw new Error("recipient_outputid is null");if(34!==t.recipientOutputid.byteLength)throw new Error("recipient_outputid length is not 34 bytes");e.writeBytes("recipient_outputid",34,t.recipientOutputid)}else if(1==t.authScheme){if(null==t.recipients)throw new Error("recipients is null");cr(e,t.recipients)}e.writeUInt16("data length",t.data.byteLength),e.writeBytes("data",t.data.byteLength,t.data)}(c=new r.WriteStream,u),[2,c.finalBytes()]}}))}))},e.prototype.sleep=function(e){return qt(this,void 0,void 0,(function(){return Xt(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},e.prototype.deserializeMessage=function(e,t,n){return qt(this,void 0,void 0,(function(){var o,i,s,a,u,c,h,l,f,p;return Xt(this,(function(d){switch(d.label){case 0:if(o=n.decryptUsingPrivateKey,i=n.sharedOutputSaltResolver,s=new r.ReadStream(e),a=function(e){var t,r,n=e.readUInt8("schema_version"),o=e.readBytes("groupId",Jt),i=e.readUInt8("message_type"),s=e.readUInt8("auth_scheme");1===i&&(2===s?t=e.readBytes("recipient_outputid",34):1===s&&(r=hr(e)));var a=e.readUInt16("data length");return{schemaVersion:n,groupId:o,messageType:i,authScheme:s,recipientOutputid:t,recipients:r,data:e.readBytes("data",a)}}(s),1!==(u=this._decompileMessage(a)).messageType)return[3,8];if(c="",1!==u.authScheme)return[3,5];if(!o)throw new Error("decryptUsingPrivateKey is required for MessageAuthSchemeRecipeintInMessage");if(h=this.getAddressHashStr(t),null==u.recipients)throw new Error("recipients is null");l=0,f=u.recipients,d.label=1;case 1:return l<f.length?(p=f[l]).mkey?p.addr!==h?[3,3]:[4,o(Ut(p.mkey))]:[3,3]:[3,4];case 2:if(!(c=d.sent()))return[3,4];if(!this.validateMsgWithSalt(u,c))return c="",[3,4];d.label=3;case 3:return l++,[3,1];case 4:return[3,7];case 5:if(2!==u.authScheme)return[3,7];if(!i)throw new Error("sharedOutputSaltResolver is required for MessageAuthSchemeRecipeintOnChain");return[4,i(u.recipientOutputid)];case 6:c=d.sent(),d.label=7;case 7:if(!c)throw console.log("invalid message",u,a),new Error("invalid message");u.data=this._decrypt(u.data,c),d.label=8;case 8:return this._decompressMessageText(u),[2,u]}}))}))},e.prototype.serializeRecipientList=function(e,t){var n=this,o=Ut(t),i=e.map((function(e){return n._compileRecipient(e)})),s=new r.WriteStream;return function(e,t){if(e.writeUInt8("schema_version",t.schemaVersion),t.groupId.byteLength!==Jt)throw new Error("groupId length is not ".concat(Jt," bytes"));e.writeBytes("groupId",Jt,t.groupId),cr(e,t.list)}(s,{schemaVersion:$t,groupId:o,list:i}),s.finalBytes()},e.prototype.deserializeRecipientList=function(e){var t,n=this;return(t=new r.ReadStream(e),{schemaVersion:t.readUInt8("schema_version"),groupId:t.readBytes("groupId",Jt),list:hr(t)}).list.map((function(e){return n._decompileRecipient(e)}))},e.prototype._compileRecipient=function(e){return{addr:Ht(e.addr,wr),mkey:Ut(e.mkey)}},e.prototype.getAddressHashStr=function(e){return zt(Ht(e,wr))},e.prototype._compileMessage=function(e){var t=this,r=e.schemaVersion,n=e.groupId,o=e.messageType,i=e.authScheme,s=e.data,a={schemaVersion:r,groupId:Ut(n),messageType:o,authScheme:i,data:Lt(s)};if(1===e.messageType){if(1===e.authScheme){if(null==e.recipients)throw new Error("recipients is null");var u=e.recipients.map((function(e){return t._compileRecipient(e)}));return Vt(Vt({},a),{recipients:u})}if(2===e.authScheme){if(null==e.recipientOutputid)throw new Error("recipient_outputid is null");var c=Ut(e.recipientOutputid);return Vt(Vt({},a),{recipientOutputid:c})}throw new Error("invalid authScheme")}return a},e.prototype._decompileRecipient=function(e){return{addr:zt(e.addr,!1),mkey:zt(e.mkey,!1)}},e.prototype._decompileMessage=function(e){var t=this,r=e.schemaVersion,n=e.groupId,o=e.messageType,i=e.authScheme,s=e.data;jt(s);var a={schemaVersion:r,groupId:zt(n,!1),messageType:o,authScheme:i,data:jt(s)};if(1===e.messageType){if(1===e.authScheme){if(null==e.recipients)throw new Error("recipients is null");var u=e.recipients.map((function(e){return t._decompileRecipient(e)}));return Vt(Vt({},a),{recipients:u})}if(2===e.authScheme){if(null==e.recipientOutputid)throw new Error("recipient_outputid is null");var c=zt(e.recipientOutputid,!0);return Vt(Vt({},a),{recipientOutputid:c})}throw new Error("invalid authScheme")}return a},e.prototype.makeErrorForGroupMemberTooMany=function(){var e=new Error("group member too many");return e.name="GroupMemberTooManyError",e},e.prototype.verifyErrorForGroupMemberTooMany=function(e){return"GroupMemberTooManyError"===e.name},e.prototype.validateMsgWithSalt=function(e,t){return!!this._decrypt(e.data,t)},e.prototype._encrypt=function(e,t){var r=Ye.enc.Utf8.parse(e),n=this._getKdf(t),o=n[0],i=n[1];return Ye.AES.encrypt(r,o,this._decorateAesCfg({iv:i})).ciphertext.toString(Ye.enc.Hex)},e.prototype._decrypt=function(e,t){var r=this._getKdf(t),n=r[0],o=r[1],i=Ye.enc.Hex.parse(e),s=Ye.lib.CipherParams.create({ciphertext:i});return Ye.AES.decrypt(s,n,this._decorateAesCfg({iv:o})).toString(Ye.enc.Utf8)},e.prototype._decorateAesCfg=function(e){return Object.assign({},e,{mode:Ye.mode.CBC,padding:Ye.pad.Pkcs7})},e.prototype._getKdf=function(e){var t=Ye.MD5(e).toString(),r=Ye.PBKDF2(t,t,{keySize:16,iterations:1e3}),n=Ye.PBKDF2(r.toString(),r.toString(),{keySize:16,iterations:1e3});return[r,n]},e.prototype.parsePushedValue=function(e){console.log("parsePushedValue",e.toString("hex"));var t=e[0];if(1===t){var r=e.slice(1,33).toString("hex"),n=e.slice(33,67).toString("hex");return console.log("parsePushedValue",e,t,r,n),{type:t,groupId:r,outputId:n}}if(2===t){var o=e.slice(2,34).toString("hex"),i=e.slice(34).toString("hex");return r=e.slice(35,67).toString("hex"),console.log("parsePushedValue",e,t,r),{type:t,groupId:r,sender:o,meta:i}}},e}()),wr="GROUPFIV2",br="GROUPFIMARKV2",Sr="GROUPFIMUTEV1",Ar="GROUPFIVOTEV2",xr=mr,Br={},Er={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64},"SHA3-384":{nodeName:"sha3-384",hashSize:48},"SHA3-256":{nodeName:"sha3-256",hashSize:32},"SHA3-224":{nodeName:"sha3-224",hashSize:28},"SHA-256":{nodeName:"sha256",hashSize:32},"SHA-384":{nodeName:"sha384",hashSize:48},"SHA-512":{nodeName:"sha512",hashSize:64},"SHA-1":{nodeName:"sha1",hashSize:20},MD5:{nodeName:"md5",hashSize:16}}};var kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.getCrypto=kr.getRootWebCrypto=kr.getWebCrypto=kr.getNodeCrypto=void 0;var Ir=function(){return"undefined"!=typeof window&&window.crypto||"undefined"==typeof window&&"undefined"!=typeof crypto?void 0:d};kr.getNodeCrypto=Ir;var Cr=function(){return"undefined"!=typeof window&&window.crypto?window.crypto.subtle:"undefined"==typeof window&&"undefined"!=typeof crypto?crypto.subtle:void 0};kr.getWebCrypto=Cr;var Or=function(){return"undefined"!=typeof window&&window.crypto?window.crypto:"undefined"==typeof window&&"undefined"!=typeof crypto?crypto:void 0};kr.getRootWebCrypto=Or;var Mr=function(){var e=Cr(),t=Ir();return void 0!==t?{name:"nodeCrypto",crypto:t}:void 0!==e?{name:"webCrypto",crypto:e}:{name:void 0}};kr.getCrypto=Mr,kr.default={getNodeCrypto:Ir,getWebCrypto:Cr,getRootWebCrypto:Or,getCrypto:Mr};var Pr={},Rr={};!function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomBytes=e.getRandomSampledString=e.getRandomAsciiString=e.getRandomString=void 0;var o=n(kr);e.getRandomString=function(t){for(var r=(0,e.getRandomBytes)(t),n=(0,e.getRandomBytes)(t),o="",i=0;i<t;i++)n[i]=n[i]%3,r[i]=0===n[i]?r[i]%10+48:r[i]%26+(1===n[i]?65:97),o+=String.fromCharCode(r[i]);return o};e.getRandomAsciiString=function(t){for(var r=(0,e.getRandomBytes)(t),n="",o=0;o<t;o++)r[o]=r[o]%94+32,n+=String.fromCharCode(r[o]);return n};e.getRandomSampledString=function(t,r){var n=r.length;if(0===n)return"";for(var o=(0,e.getRandomBytes)(t),i="",s=0;s<t;s++)i+=r[o[s]%n];return i};e.getRandomBytes=function(e){var t=o.getRootWebCrypto(),r=o.getNodeCrypto();if(void 0!==t&&"function"==typeof t.getRandomValues){var n=new Uint8Array(e);return t.getRandomValues(n),n}if(void 0!==r)return new Uint8Array(r.randomBytes(e));throw new Error("UnsupportedEnvironment")}}(Rr),function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomSampledString=e.getRandomString=e.getRandomAsciiString=e.getRandomBytes=void 0;var o=n(Rr);e.getRandomBytes=o.getRandomBytes,e.getRandomAsciiString=o.getRandomAsciiString,e.getRandomString=o.getRandomString,e.getRandomSampledString=o.getRandomSampledString,e.default={getRandomBytes:e.getRandomBytes,getRandomAsciiString:e.getRandomAsciiString,getRandomString:e.getRandomString,getRandomSampledString:e.getRandomSampledString}}(Pr);var Hr={},Ur={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.default={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64,blockSize:72},"SHA3-384":{nodeName:"sha3-384",hashSize:48,blockSize:104},"SHA3-256":{nodeName:"sha3-256",hashSize:32,blockSize:136},"SHA3-224":{nodeName:"sha3-224",hashSize:28,blockSize:144},"SHA-256":{nodeName:"sha256",hashSize:32,blockSize:64},"SHA-384":{nodeName:"sha384",hashSize:48,blockSize:128},"SHA-512":{nodeName:"sha512",hashSize:64,blockSize:128},"SHA-1":{nodeName:"sha1",hashSize:20,blockSize:64},MD5:{nodeName:"md5",hashSize:16,blockSize:64}}};var Lr={},jr={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64},"SHA3-384":{nodeName:"sha3-384",hashSize:48},"SHA3-256":{nodeName:"sha3-256",hashSize:32},"SHA3-224":{nodeName:"sha3-224",hashSize:28},"SHA-256":{nodeName:"sha256",hashSize:32},"SHA-384":{nodeName:"sha384",hashSize:48},"SHA-512":{nodeName:"sha512",hashSize:64},"SHA-1":{nodeName:"sha1",hashSize:20},MD5:{nodeName:"md5",hashSize:16}}};var Fr,Nr,Kr={exports:{}},Gr={exports:{}};Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&Nr.rotl(e,8)|4278255360&Nr.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=Nr.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(Fr.charAt(n>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((Fr.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|Fr.indexOf(e.charAt(r))>>>6-2*n);return t}},Gr.exports=Nr;var Wr=Gr.exports,Yr={utf8:{stringToBytes:function(e){return Yr.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(Yr.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},Vr=Yr,qr=function(e){return null!=e&&(Xr(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Xr(e.slice(0,0))}(e)||!!e._isBuffer)};function Xr(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(){var e=Wr,t=Vr.utf8,r=qr,n=Vr.bin,o=function(i,s){i.constructor==String?i=s&&"binary"===s.encoding?n.stringToBytes(i):t.stringToBytes(i):r(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||i.constructor===Uint8Array||(i=i.toString());for(var a=e.bytesToWords(i),u=8*i.length,c=1732584193,h=-271733879,l=-1732584194,f=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[u>>>5]|=128<<u%32,a[14+(u+64>>>9<<4)]=u;var d=o._ff,v=o._gg,g=o._hh,y=o._ii;for(p=0;p<a.length;p+=16){var _=c,m=h,w=l,b=f;c=d(c,h,l,f,a[p+0],7,-680876936),f=d(f,c,h,l,a[p+1],12,-389564586),l=d(l,f,c,h,a[p+2],17,606105819),h=d(h,l,f,c,a[p+3],22,-1044525330),c=d(c,h,l,f,a[p+4],7,-176418897),f=d(f,c,h,l,a[p+5],12,1200080426),l=d(l,f,c,h,a[p+6],17,-1473231341),h=d(h,l,f,c,a[p+7],22,-45705983),c=d(c,h,l,f,a[p+8],7,1770035416),f=d(f,c,h,l,a[p+9],12,-1958414417),l=d(l,f,c,h,a[p+10],17,-42063),h=d(h,l,f,c,a[p+11],22,-1990404162),c=d(c,h,l,f,a[p+12],7,1804603682),f=d(f,c,h,l,a[p+13],12,-40341101),l=d(l,f,c,h,a[p+14],17,-1502002290),c=v(c,h=d(h,l,f,c,a[p+15],22,1236535329),l,f,a[p+1],5,-165796510),f=v(f,c,h,l,a[p+6],9,-1069501632),l=v(l,f,c,h,a[p+11],14,643717713),h=v(h,l,f,c,a[p+0],20,-373897302),c=v(c,h,l,f,a[p+5],5,-701558691),f=v(f,c,h,l,a[p+10],9,38016083),l=v(l,f,c,h,a[p+15],14,-660478335),h=v(h,l,f,c,a[p+4],20,-405537848),c=v(c,h,l,f,a[p+9],5,568446438),f=v(f,c,h,l,a[p+14],9,-1019803690),l=v(l,f,c,h,a[p+3],14,-187363961),h=v(h,l,f,c,a[p+8],20,1163531501),c=v(c,h,l,f,a[p+13],5,-1444681467),f=v(f,c,h,l,a[p+2],9,-51403784),l=v(l,f,c,h,a[p+7],14,1735328473),c=g(c,h=v(h,l,f,c,a[p+12],20,-1926607734),l,f,a[p+5],4,-378558),f=g(f,c,h,l,a[p+8],11,-2022574463),l=g(l,f,c,h,a[p+11],16,1839030562),h=g(h,l,f,c,a[p+14],23,-35309556),c=g(c,h,l,f,a[p+1],4,-1530992060),f=g(f,c,h,l,a[p+4],11,1272893353),l=g(l,f,c,h,a[p+7],16,-155497632),h=g(h,l,f,c,a[p+10],23,-1094730640),c=g(c,h,l,f,a[p+13],4,681279174),f=g(f,c,h,l,a[p+0],11,-358537222),l=g(l,f,c,h,a[p+3],16,-722521979),h=g(h,l,f,c,a[p+6],23,76029189),c=g(c,h,l,f,a[p+9],4,-640364487),f=g(f,c,h,l,a[p+12],11,-421815835),l=g(l,f,c,h,a[p+15],16,530742520),c=y(c,h=g(h,l,f,c,a[p+2],23,-995338651),l,f,a[p+0],6,-198630844),f=y(f,c,h,l,a[p+7],10,1126891415),l=y(l,f,c,h,a[p+14],15,-1416354905),h=y(h,l,f,c,a[p+5],21,-57434055),c=y(c,h,l,f,a[p+12],6,1700485571),f=y(f,c,h,l,a[p+3],10,-1894986606),l=y(l,f,c,h,a[p+10],15,-1051523),h=y(h,l,f,c,a[p+1],21,-2054922799),c=y(c,h,l,f,a[p+8],6,1873313359),f=y(f,c,h,l,a[p+15],10,-30611744),l=y(l,f,c,h,a[p+6],15,-1560198380),h=y(h,l,f,c,a[p+13],21,1309151649),c=y(c,h,l,f,a[p+4],6,-145523070),f=y(f,c,h,l,a[p+11],10,-1120210379),l=y(l,f,c,h,a[p+2],15,718787259),h=y(h,l,f,c,a[p+9],21,-343485551),c=c+_>>>0,h=h+m>>>0,l=l+w>>>0,f=f+b>>>0}return e.endian([c,h,l,f])};o._ff=function(e,t,r,n,o,i,s){var a=e+(t&r|~t&n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},o._gg=function(e,t,r,n,o,i,s){var a=e+(t&n|r&~n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},o._hh=function(e,t,r,n,o,i,s){var a=e+(t^r^n)+(o>>>0)+s;return(a<<i|a>>>32-i)+t},o._ii=function(e,t,r,n,o,i,s){var a=e+(r^(t|~n))+(o>>>0)+s;return(a<<i|a>>>32-i)+t},o._blocksize=16,o._digestsize=16,Kr.exports=function(t,r){if(null==t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(o(t,r));return r&&r.asBytes?i:r&&r.asString?n.bytesToString(i):e.bytesToHex(i)}}();var Zr=Kr.exports,$r={},Qr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Jr=[],en=[],tn="undefined"!=typeof Uint8Array?Uint8Array:Array,rn=!1;function nn(){rn=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)Jr[t]=e[t],en[e.charCodeAt(t)]=t;en["-".charCodeAt(0)]=62,en["_".charCodeAt(0)]=63}function on(e,t,r){for(var n,o,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(Jr[(o=n)>>18&63]+Jr[o>>12&63]+Jr[o>>6&63]+Jr[63&o]);return i.join("")}function sn(e){var t;rn||nn();for(var r=e.length,n=r%3,o="",i=[],s=16383,a=0,u=r-n;a<u;a+=s)i.push(on(e,a,a+s>u?u:a+s));return 1===n?(t=e[r-1],o+=Jr[t>>2],o+=Jr[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=Jr[t>>10],o+=Jr[t>>4&63],o+=Jr[t<<2&63],o+="="),i.push(o),i.join("")}function an(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?o-1:0,f=r?-1:1,p=e[t+l];for(l+=f,i=p&(1<<-h)-1,p>>=-h,h+=a;h>0;i=256*i+e[t+l],l+=f,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=n;h>0;s=256*s+e[t+l],l+=f,h-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)}function un(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,h=(1<<c)-1,l=h>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+p]=255&s,p+=d,s/=256,c-=8);e[r+p-d]|=128*v}var cn={}.toString,hn=Array.isArray||function(e){return"[object Array]"==cn.call(e)};dn.TYPED_ARRAY_SUPPORT=void 0===Qr.TYPED_ARRAY_SUPPORT||Qr.TYPED_ARRAY_SUPPORT;var ln=fn();function fn(){return dn.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function pn(e,t){if(fn()<t)throw new RangeError("Invalid typed array length");return dn.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=dn.prototype:(null===e&&(e=new dn(t)),e.length=t),e}function dn(e,t,r){if(!(dn.TYPED_ARRAY_SUPPORT||this instanceof dn))return new dn(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return yn(this,e)}return vn(this,e,t,r)}function vn(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);dn.TYPED_ARRAY_SUPPORT?(e=t).__proto__=dn.prototype:e=_n(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!dn.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|bn(t,r);e=pn(e,n);var o=e.write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(wn(t)){var r=0|mn(t.length);return 0===(e=pn(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?pn(e,0):_n(e,t);if("Buffer"===t.type&&hn(t.data))return _n(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function gn(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function yn(e,t){if(gn(t),e=pn(e,t<0?0:0|mn(t)),!dn.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function _n(e,t){var r=t.length<0?0:0|mn(t.length);e=pn(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function mn(e){if(e>=fn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fn().toString(16)+" bytes");return 0|e}function wn(e){return!(null==e||!e._isBuffer)}function bn(e,t){if(wn(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return qn(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Xn(e).length;default:if(n)return qn(e).length;t=(""+t).toLowerCase(),n=!0}}function Sn(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return zn(this,t,r);case"utf8":case"utf-8":return Pn(this,t,r);case"ascii":return Hn(this,t,r);case"latin1":case"binary":return Un(this,t,r);case"base64":return Mn(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ln(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function An(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function xn(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=dn.from(t,n)),wn(t))return 0===t.length?-1:Bn(e,t,r,n,o);if("number"==typeof t)return t&=255,dn.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Bn(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function Bn(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var h=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===u)return h*s}else-1!==h&&(i-=i-h),h=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var l=!0,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){l=!1;break}if(l)return i}return-1}function En(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function Tn(e,t,r,n){return Zn(qn(t,e.length-r),e,r,n)}function kn(e,t,r,n){return Zn(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function In(e,t,r,n){return kn(e,t,r,n)}function Cn(e,t,r,n){return Zn(Xn(t),e,r,n)}function On(e,t,r,n){return Zn(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function Mn(e,t,r){return 0===t&&r===e.length?sn(e):sn(e.slice(t,r))}function Pn(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],h=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(h=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=l}return function(e){var t=e.length;if(t<=Rn)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Rn));return r}(n)}dn.poolSize=8192,dn._augment=function(e){return e.__proto__=dn.prototype,e},dn.from=function(e,t,r){return vn(null,e,t,r)},dn.TYPED_ARRAY_SUPPORT&&(dn.prototype.__proto__=Uint8Array.prototype,dn.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&dn[Symbol.species]),dn.alloc=function(e,t,r){return function(e,t,r,n){return gn(t),t<=0?pn(e,t):void 0!==r?"string"==typeof n?pn(e,t).fill(r,n):pn(e,t).fill(r):pn(e,t)}(null,e,t,r)},dn.allocUnsafe=function(e){return yn(null,e)},dn.allocUnsafeSlow=function(e){return yn(null,e)},dn.isBuffer=$n,dn.compare=function(e,t){if(!wn(e)||!wn(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},dn.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},dn.concat=function(e,t){if(!hn(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return dn.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=dn.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!wn(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},dn.byteLength=bn,dn.prototype._isBuffer=!0,dn.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)An(this,t,t+1);return this},dn.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)An(this,t,t+3),An(this,t+1,t+2);return this},dn.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)An(this,t,t+7),An(this,t+1,t+6),An(this,t+2,t+5),An(this,t+3,t+4);return this},dn.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Pn(this,0,e):Sn.apply(this,arguments)},dn.prototype.equals=function(e){if(!wn(e))throw new TypeError("Argument must be a Buffer");return this===e||0===dn.compare(this,e)},dn.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},dn.prototype.compare=function(e,t,r,n,o){if(!wn(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),u=this.slice(n,o),c=e.slice(t,r),h=0;h<a;++h)if(u[h]!==c[h]){i=u[h],s=c[h];break}return i<s?-1:s<i?1:0},dn.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},dn.prototype.indexOf=function(e,t,r){return xn(this,e,t,r,!0)},dn.prototype.lastIndexOf=function(e,t,r){return xn(this,e,t,r,!1)},dn.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return En(this,e,t,r);case"utf8":case"utf-8":return Tn(this,e,t,r);case"ascii":return kn(this,e,t,r);case"latin1":case"binary":return In(this,e,t,r);case"base64":return Cn(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return On(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},dn.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Rn=4096;function Hn(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function Un(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function zn(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=Vn(e[i]);return o}function Ln(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function jn(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Dn(e,t,r,n,o,i){if(!wn(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Fn(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function Nn(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function Kn(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Gn(e,t,r,n,o){return o||Kn(e,0,r,4),un(e,t,r,n,23,4),r+4}function Wn(e,t,r,n,o){return o||Kn(e,0,r,8),un(e,t,r,n,52,8),r+8}dn.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),dn.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=dn.prototype;else{var o=t-e;r=new dn(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},dn.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||jn(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},dn.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||jn(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},dn.prototype.readUInt8=function(e,t){return t||jn(e,1,this.length),this[e]},dn.prototype.readUInt16LE=function(e,t){return t||jn(e,2,this.length),this[e]|this[e+1]<<8},dn.prototype.readUInt16BE=function(e,t){return t||jn(e,2,this.length),this[e]<<8|this[e+1]},dn.prototype.readUInt32LE=function(e,t){return t||jn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},dn.prototype.readUInt32BE=function(e,t){return t||jn(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},dn.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||jn(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},dn.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||jn(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},dn.prototype.readInt8=function(e,t){return t||jn(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},dn.prototype.readInt16LE=function(e,t){t||jn(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},dn.prototype.readInt16BE=function(e,t){t||jn(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},dn.prototype.readInt32LE=function(e,t){return t||jn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},dn.prototype.readInt32BE=function(e,t){return t||jn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},dn.prototype.readFloatLE=function(e,t){return t||jn(e,4,this.length),an(this,e,!0,23,4)},dn.prototype.readFloatBE=function(e,t){return t||jn(e,4,this.length),an(this,e,!1,23,4)},dn.prototype.readDoubleLE=function(e,t){return t||jn(e,8,this.length),an(this,e,!0,52,8)},dn.prototype.readDoubleBE=function(e,t){return t||jn(e,8,this.length),an(this,e,!1,52,8)},dn.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Dn(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},dn.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||Dn(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},dn.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,1,255,0),dn.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},dn.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,2,65535,0),dn.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Fn(this,e,t,!0),t+2},dn.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,2,65535,0),dn.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Fn(this,e,t,!1),t+2},dn.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,4,4294967295,0),dn.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Nn(this,e,t,!0),t+4},dn.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,4,4294967295,0),dn.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Nn(this,e,t,!1),t+4},dn.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);Dn(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},dn.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);Dn(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},dn.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,1,127,-128),dn.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},dn.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,2,32767,-32768),dn.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Fn(this,e,t,!0),t+2},dn.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,2,32767,-32768),dn.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Fn(this,e,t,!1),t+2},dn.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,4,2147483647,-2147483648),dn.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Nn(this,e,t,!0),t+4},dn.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||Dn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),dn.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Nn(this,e,t,!1),t+4},dn.prototype.writeFloatLE=function(e,t,r){return Gn(this,e,t,!0,r)},dn.prototype.writeFloatBE=function(e,t,r){return Gn(this,e,t,!1,r)},dn.prototype.writeDoubleLE=function(e,t,r){return Wn(this,e,t,!0,r)},dn.prototype.writeDoubleBE=function(e,t,r){return Wn(this,e,t,!1,r)},dn.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!dn.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},dn.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!dn.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=wn(e)?e:qn(new dn(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var Yn=/[^+\/0-9A-Za-z-_]/g;function Vn(e){return e<16?"0"+e.toString(16):e.toString(16)}function qn(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Xn(e){return function(e){var t,r,n,o,i,s;rn||nn();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[a-2]?2:"="===e[a-1]?1:0,s=new tn(3*a/4-i),n=i>0?a-4:a;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)o=en[e.charCodeAt(t)]<<18|en[e.charCodeAt(t+1)]<<12|en[e.charCodeAt(t+2)]<<6|en[e.charCodeAt(t+3)],s[u++]=o>>16&255,s[u++]=o>>8&255,s[u++]=255&o;return 2===i?(o=en[e.charCodeAt(t)]<<2|en[e.charCodeAt(t+1)]>>4,s[u++]=255&o):1===i&&(o=en[e.charCodeAt(t)]<<10|en[e.charCodeAt(t+1)]<<4|en[e.charCodeAt(t+2)]>>2,s[u++]=o>>8&255,s[u++]=255&o),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Yn,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Zn(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function $n(e){return null!=e&&(!!e._isBuffer||Qn(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Qn(e.slice(0,0))}(e))}function Qn(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Jn=h(Object.freeze({__proto__:null,Buffer:dn,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),dn.alloc(+e)},isBuffer:$n,kMaxLength:ln})),eo={},to={},ro={},no=function(e,t){return function(r,n){var o=2*n,i=2*t;r[o]=e[i],r[o+1]=e[i+1]}};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=no)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,o=0;o<25;o+=5){for(var i=0;i<5;i++)(0,r.default)(t,o+i)(n,i);for(var s=0;s<5;s++){var a=2*(o+s),u=(s+1)%5*2,c=(s+2)%5*2;t[a]^=~n[u]&n[c],t[a+1]^=~n[u+1]&n[c+1]}}};e.default=n}(ro);var oo={},io={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);e.default=t}(io),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=io)&&t.__esModule?t:{default:t};var n=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=r.default[n],t[1]^=r.default[n+1]};e.default=n}(oo);var so={},ao={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];e.default=t}(ao);var uo={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];e.default=t}(uo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(ao),r=o(uo),n=o(no);function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var o=e.A,i=e.C,s=e.W;(0,n.default)(o,1)(s,0);for(var a=0,u=0,c=0,h=32,l=0;l<24;l++){var f=t.default[l],p=r.default[l];(0,n.default)(o,f)(i,0),a=s[0],u=s[1],h=32-p,s[c=p<32?0:1]=a<<p|u>>>h,s[(c+1)%2]=u<<p|a>>>h,(0,n.default)(s,0)(o,f),(0,n.default)(i,0)(s,0)}};e.default=i}(so);var co={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=no)&&t.__esModule?t:{default:t};var n=function(e){for(var t=e.A,n=e.C,o=e.D,i=e.W,s=0,a=0,u=0;u<5;u++){var c=2*u,h=2*(u+5),l=2*(u+10),f=2*(u+15),p=2*(u+20);n[c]=t[c]^t[h]^t[l]^t[f]^t[p],n[c+1]=t[c+1]^t[h+1]^t[l+1]^t[f+1]^t[p+1]}for(var d=0;d<5;d++){(0,r.default)(n,(d+1)%5)(i,0),s=i[0],a=i[1],i[0]=s<<1|a>>>31,i[1]=a<<1|s>>>31,o[2*d]=n[(d+4)%5*2]^i[0],o[2*d+1]=n[(d+4)%5*2+1]^i[1];for(var v=0;v<25;v+=5)t[2*(v+d)]^=o[2*d],t[2*(v+d)+1]^=o[2*d+1]}};e.default=n}(co),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(ro),r=i(oo),n=i(so),o=i(co);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){var e=new Uint32Array(10),i=new Uint32Array(10),s=new Uint32Array(2);return function(a){for(var u=0;u<24;u++)(0,o.default)({A:a,C:e,D:i,W:s}),(0,n.default)({A:a,C:e,W:s}),(0,t.default)({A:a,C:e}),(0,r.default)({A:a,roundIndex:u});e.fill(0),i.fill(0),s.fill(0)}};e.default=s}(to),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=Jn,n=(t=to)&&t.__esModule?t:{default:t};var o=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},i=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t},s=function(e){var t=this,s=e.capacity,a=e.padding,u=(0,n.default)(),c=s/8,h=200-s/4,l=0,f=new Uint32Array(50),p=r.Buffer.allocUnsafe(h);return this.absorb=function(e){for(var r=0;r<e.length;r++)p[l]=e[r],(l+=1)>=h&&(o(p,f),u(f),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||r.Buffer.allocUnsafe(c),padding:e.padding||a,queue:r.Buffer.allocUnsafe(p.length),state:new Uint32Array(f.length)};p.copy(t.queue);for(var n=0;n<f.length;n++)t.state[n]=f[n];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[h-1]|=128,o(t.queue,t.state);for(var s=0;s<t.buffer.length;s+=h)u(t.state),i(t.state,t.buffer.slice(s,s+h));return t.buffer},this.reset=function(){return p.fill(0),f.fill(0),l=0,t},this};e.default=s}(eo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.SHAKE=e.SHA3Hash=e.SHA3=e.Keccak=void 0;var t,r=Jn,n=(t=eo)&&t.__esModule?t:{default:t};var o=function(e){var t=e.allowedSizes,o=e.defaultSize,i=e.padding;return function e(){var s=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!this||this.constructor!==e)return new e(a);if(t&&!t.includes(a))throw new Error("Unsupported hash length");var u=new n.default({capacity:a});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(r.Buffer.isBuffer(e))return u.absorb(e),s;if("string"==typeof e)return s.update(r.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=u.squeeze({buffer:t.buffer,padding:t.padding||i});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return u.reset(),s},this}},i=o({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});e.Keccak=i;var s=o({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});e.SHA3=s;var a=o({allowedSizes:[128,256],defaultSize:256,padding:31});e.SHAKE=a;var u=i;e.SHA3Hash=u,s.SHA3Hash=u;var c=s;e.default=c}($r);var ho={},lo={},fo=po;function po(e,t){if(!e)throw new Error(t||"Assertion failed")}po.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var vo="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},go=fo,yo=h(Object.freeze({__proto__:null,default:vo}));function _o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function mo(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function wo(e){return 1===e.length?"0"+e:e}function bo(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}lo.inherits=yo,lo.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)r.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=63&i|128):_o(e,o)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=63&i|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=63&i|128)}else for(o=0;o<e.length;o++)r[o]=0|e[o];return r},lo.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=wo(e[r].toString(16));return t},lo.htonl=mo,lo.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e[n];"little"===t&&(o=mo(o)),r+=bo(o.toString(16))}return r},lo.zero2=wo,lo.zero8=bo,lo.join32=function(e,t,r,n){var o=r-t;go(o%4==0);for(var i=new Array(o/4),s=0,a=t;s<i.length;s++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],i[s]=u>>>0}return i},lo.split32=function(e,t){for(var r=new Array(4*e.length),n=0,o=0;n<e.length;n++,o+=4){var i=e[n];"big"===t?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=255&i):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=255&i)}return r},lo.rotr32=function(e,t){return e>>>t|e<<32-t},lo.rotl32=function(e,t){return e<<t|e>>>32-t},lo.sum32=function(e,t){return e+t>>>0},lo.sum32_3=function(e,t,r){return e+t+r>>>0},lo.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},lo.sum32_5=function(e,t,r,n,o){return e+t+r+n+o>>>0},lo.sum64=function(e,t,r,n){var o=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+o;e[t]=s>>>0,e[t+1]=i},lo.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},lo.sum64_lo=function(e,t,r,n){return t+n>>>0},lo.sum64_4_hi=function(e,t,r,n,o,i,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+i>>>0)<i?1:0,e+r+o+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},lo.sum64_4_lo=function(e,t,r,n,o,i,s,a){return t+n+i+a>>>0},lo.sum64_5_hi=function(e,t,r,n,o,i,s,a,u,c){var h=0,l=t;return h+=(l=l+n>>>0)<t?1:0,h+=(l=l+i>>>0)<i?1:0,h+=(l=l+a>>>0)<a?1:0,e+r+o+s+u+(h+=(l=l+c>>>0)<c?1:0)>>>0},lo.sum64_5_lo=function(e,t,r,n,o,i,s,a,u,c){return t+n+i+a+c>>>0},lo.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},lo.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},lo.shr64_hi=function(e,t,r){return e>>>r},lo.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var So={},Ao=lo,xo=fo;function Bo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}So.BlockHash=Bo,Bo.prototype.update=function(e,t){if(e=Ao.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=Ao.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Bo.prototype.digest=function(e){return this.update(this._pad()),xo(null===this.pending),this._digest(e)},Bo.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=255&e}else for(n[o++]=255&e,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n};var Eo={},To={},ko=lo.rotr32;function Io(e,t,r){return e&t^~e&r}function Co(e,t,r){return e&t^e&r^t&r}function Oo(e,t,r){return e^t^r}To.ft_1=function(e,t,r,n){return 0===e?Io(t,r,n):1===e||3===e?Oo(t,r,n):2===e?Co(t,r,n):void 0},To.ch32=Io,To.maj32=Co,To.p32=Oo,To.s0_256=function(e){return ko(e,2)^ko(e,13)^ko(e,22)},To.s1_256=function(e){return ko(e,6)^ko(e,11)^ko(e,25)},To.g0_256=function(e){return ko(e,7)^ko(e,18)^e>>>3},To.g1_256=function(e){return ko(e,17)^ko(e,19)^e>>>10};var Mo=lo,Po=So,Ro=To,Ho=Mo.rotl32,Uo=Mo.sum32,zo=Mo.sum32_5,Lo=Ro.ft_1,jo=Po.BlockHash,Do=[1518500249,1859775393,2400959708,3395469782];function Fo(){if(!(this instanceof Fo))return new Fo;jo.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Mo.inherits(Fo,jo);var No=Fo;Fo.blockSize=512,Fo.outSize=160,Fo.hmacStrength=80,Fo.padLength=64,Fo.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Ho(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),h=zo(Ho(o,5),Lo(c,i,s,a),u,r[n],Do[c]);u=a,a=s,s=Ho(i,30),i=o,o=h}this.h[0]=Uo(this.h[0],o),this.h[1]=Uo(this.h[1],i),this.h[2]=Uo(this.h[2],s),this.h[3]=Uo(this.h[3],a),this.h[4]=Uo(this.h[4],u)},Fo.prototype._digest=function(e){return"hex"===e?Mo.toHex32(this.h,"big"):Mo.split32(this.h,"big")};var Ko=lo,Go=So,Wo=To,Yo=fo,Vo=Ko.sum32,qo=Ko.sum32_4,Xo=Ko.sum32_5,Zo=Wo.ch32,$o=Wo.maj32,Qo=Wo.s0_256,Jo=Wo.s1_256,ei=Wo.g0_256,ti=Wo.g1_256,ri=Go.BlockHash,ni=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function oi(){if(!(this instanceof oi))return new oi;ri.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ni,this.W=new Array(64)}Ko.inherits(oi,ri);var ii=oi;oi.blockSize=512,oi.outSize=256,oi.hmacStrength=192,oi.padLength=64,oi.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=qo(ti(r[n-2]),r[n-7],ei(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],l=this.h[7];for(Yo(this.k.length===r.length),n=0;n<r.length;n++){var f=Xo(l,Jo(u),Zo(u,c,h),this.k[n],r[n]),p=Vo(Qo(o),$o(o,i,s));l=h,h=c,c=u,u=Vo(a,f),a=s,s=i,i=o,o=Vo(f,p)}this.h[0]=Vo(this.h[0],o),this.h[1]=Vo(this.h[1],i),this.h[2]=Vo(this.h[2],s),this.h[3]=Vo(this.h[3],a),this.h[4]=Vo(this.h[4],u),this.h[5]=Vo(this.h[5],c),this.h[6]=Vo(this.h[6],h),this.h[7]=Vo(this.h[7],l)},oi.prototype._digest=function(e){return"hex"===e?Ko.toHex32(this.h,"big"):Ko.split32(this.h,"big")};var si=lo,ai=ii;function ui(){if(!(this instanceof ui))return new ui;ai.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}si.inherits(ui,ai);var ci=ui;ui.blockSize=512,ui.outSize=224,ui.hmacStrength=192,ui.padLength=64,ui.prototype._digest=function(e){return"hex"===e?si.toHex32(this.h.slice(0,7),"big"):si.split32(this.h.slice(0,7),"big")};var hi=lo,li=So,fi=fo,pi=hi.rotr64_hi,di=hi.rotr64_lo,vi=hi.shr64_hi,gi=hi.shr64_lo,yi=hi.sum64,_i=hi.sum64_hi,mi=hi.sum64_lo,wi=hi.sum64_4_hi,bi=hi.sum64_4_lo,Si=hi.sum64_5_hi,Ai=hi.sum64_5_lo,xi=li.BlockHash,Bi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ei(){if(!(this instanceof Ei))return new Ei;xi.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Bi,this.W=new Array(160)}hi.inherits(Ei,xi);var Ti=Ei;function ki(e,t,r,n,o){var i=e&r^~e&o;return i<0&&(i+=4294967296),i}function Ii(e,t,r,n,o,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function Ci(e,t,r,n,o){var i=e&r^e&o^r&o;return i<0&&(i+=4294967296),i}function Oi(e,t,r,n,o,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function Mi(e,t){var r=pi(e,t,28)^pi(t,e,2)^pi(t,e,7);return r<0&&(r+=4294967296),r}function Pi(e,t){var r=di(e,t,28)^di(t,e,2)^di(t,e,7);return r<0&&(r+=4294967296),r}function Ri(e,t){var r=pi(e,t,14)^pi(e,t,18)^pi(t,e,9);return r<0&&(r+=4294967296),r}function Hi(e,t){var r=di(e,t,14)^di(e,t,18)^di(t,e,9);return r<0&&(r+=4294967296),r}function Ui(e,t){var r=pi(e,t,1)^pi(e,t,8)^vi(e,t,7);return r<0&&(r+=4294967296),r}function zi(e,t){var r=di(e,t,1)^di(e,t,8)^gi(e,t,7);return r<0&&(r+=4294967296),r}function Li(e,t){var r=pi(e,t,19)^pi(t,e,29)^vi(e,t,6);return r<0&&(r+=4294967296),r}function ji(e,t){var r=di(e,t,19)^di(t,e,29)^gi(e,t,6);return r<0&&(r+=4294967296),r}Ei.blockSize=1024,Ei.outSize=512,Ei.hmacStrength=192,Ei.padLength=128,Ei.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var o=Li(r[n-4],r[n-3]),i=ji(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=Ui(r[n-30],r[n-29]),c=zi(r[n-30],r[n-29]),h=r[n-32],l=r[n-31];r[n]=wi(o,i,s,a,u,c,h,l),r[n+1]=bi(o,i,s,a,u,c,h,l)}},Ei.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7],l=this.h[8],f=this.h[9],p=this.h[10],d=this.h[11],v=this.h[12],g=this.h[13],y=this.h[14],_=this.h[15];fi(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var w=y,b=_,S=Ri(l,f),A=Hi(l,f),x=ki(l,f,p,d,v),B=Ii(l,f,p,d,v,g),E=this.k[m],T=this.k[m+1],k=r[m],I=r[m+1],C=Si(w,b,S,A,x,B,E,T,k,I),O=Ai(w,b,S,A,x,B,E,T,k,I);w=Mi(n,o),b=Pi(n,o),S=Ci(n,o,i,s,a),A=Oi(n,o,i,s,a,u);var M=_i(w,b,S,A),P=mi(w,b,S,A);y=v,_=g,v=p,g=d,p=l,d=f,l=_i(c,h,C,O),f=mi(h,h,C,O),c=a,h=u,a=i,u=s,i=n,s=o,n=_i(C,O,M,P),o=mi(C,O,M,P)}yi(this.h,0,n,o),yi(this.h,2,i,s),yi(this.h,4,a,u),yi(this.h,6,c,h),yi(this.h,8,l,f),yi(this.h,10,p,d),yi(this.h,12,v,g),yi(this.h,14,y,_)},Ei.prototype._digest=function(e){return"hex"===e?hi.toHex32(this.h,"big"):hi.split32(this.h,"big")};var Di=lo,Fi=Ti;function Ni(){if(!(this instanceof Ni))return new Ni;Fi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Di.inherits(Ni,Fi);var Ki=Ni;Ni.blockSize=1024,Ni.outSize=384,Ni.hmacStrength=192,Ni.padLength=128,Ni.prototype._digest=function(e){return"hex"===e?Di.toHex32(this.h.slice(0,12),"big"):Di.split32(this.h.slice(0,12),"big")},Eo.sha1=No,Eo.sha224=ci,Eo.sha256=ii,Eo.sha384=Ki,Eo.sha512=Ti;var Gi={},Wi=lo,Yi=So,Vi=Wi.rotl32,qi=Wi.sum32,Xi=Wi.sum32_3,Zi=Wi.sum32_4,$i=Yi.BlockHash;function Qi(){if(!(this instanceof Qi))return new Qi;$i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Ji(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function es(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function ts(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Wi.inherits(Qi,$i),Gi.ripemd160=Qi,Qi.blockSize=512,Qi.outSize=160,Qi.hmacStrength=192,Qi.padLength=64,Qi.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=r,u=n,c=o,h=i,l=s,f=0;f<80;f++){var p=qi(Vi(Zi(r,Ji(f,n,o,i),e[rs[f]+t],es(f)),os[f]),s);r=s,s=i,i=Vi(o,10),o=n,n=p,p=qi(Vi(Zi(a,Ji(79-f,u,c,h),e[ns[f]+t],ts(f)),is[f]),l),a=l,l=h,h=Vi(c,10),c=u,u=p}p=Xi(this.h[1],o,h),this.h[1]=Xi(this.h[2],i,l),this.h[2]=Xi(this.h[3],s,a),this.h[3]=Xi(this.h[4],r,u),this.h[4]=Xi(this.h[0],n,c),this.h[0]=p},Qi.prototype._digest=function(e){return"hex"===e?Wi.toHex32(this.h,"little"):Wi.split32(this.h,"little")};var rs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ns=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],os=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],is=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ss=lo,as=fo;function us(e,t,r){if(!(this instanceof us))return new us(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ss.toArray(t,r))}var cs=us;us.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),as(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},us.prototype.update=function(e,t){return this.inner.update(e,t),this},us.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=lo,t.common=So,t.sha=Eo,t.ripemd=Gi,t.hmac=cs,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(ho);var hs=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),ls=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fs=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&hs(t,e,r);return ls(t,e),t},ps=u&&u.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},ds=u&&u.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},vs=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jr,"__esModule",{value:!0}),jr.compute=void 0;var gs=fs(kr),ys=vs(Dr),_s=vs(Zr),ms=$r,ws=fs(ho);jr.compute=function(e,t){return void 0===t&&(t="SHA-256"),ps(void 0,void 0,void 0,(function(){var r,n,o,i,s,a;return ds(this,(function(u){switch(u.label){case 0:r=gs.getCrypto(),i=!0,u.label=1;case 1:return u.trys.push([1,5,,6]),"webCrypto"!==r.name||"function"!=typeof r.crypto.digest?[3,3]:[4,r.crypto.digest(t,e)];case 2:return n=u.sent(),[3,4];case 3:"nodeCrypto"===r.name?n=bs(t,e,r.crypto):i=!1,u.label=4;case 4:return[3,6];case 5:return(s=u.sent())instanceof Error&&(o=s.message),i=!1,[3,6];case 6:if(i)return[3,10];u.label=7;case 7:return u.trys.push([7,9,,10]),[4,Ss(t,e)];case 8:return n=u.sent(),[3,10];case 9:throw(a=u.sent())instanceof Error?(o="".concat(void 0===o?"":o," => ").concat(a.message),new Error("UnsupportedEnvironment: ".concat(o))):new Error("UnsupportedEnvironment");case 10:return[2,new Uint8Array(n)]}}))}))};var bs=function(e,t,r){var n=ys.default.hashes[e].nodeName,o=r.createHash(n);return o.update(t),o.digest()},Ss=function(e,t){return ps(void 0,void 0,void 0,(function(){var r,n,o,i;return ds(this,(function(s){switch(s.label){case 0:return"MD5"!==e?[3,1]:(r=(0,_s.default)(Array.from(t),{asBytes:!0}),[3,4]);case 1:return["SHA3-512","SHA3-384","SHA3-256","SHA3-224"].indexOf(e)>=0?(n=8*ys.default.hashes[e].hashSize,o=new ms.SHA3(n),[4,Promise.resolve().then((function(){return fs(Jn)}))]):[3,3];case 2:return i=s.sent().Buffer,o.update(i.from(t)),r=o.digest("binary"),[3,4];case 3:r=ws[ys.default.hashes[e].nodeName]().update(t).digest(),s.label=4;case 4:return[2,new Uint8Array(r)]}}))}))};!function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.compute=void 0;var o=n(jr);e.compute=o.compute,e.default={compute:e.compute}}(Lr),function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n},o=u&&u.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=u&&u.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.verify=e.compute=void 0;var a=s(zr),c=n(kr),h=s(Lr);e.compute=function(e,t,r){return void 0===r&&(r="SHA-256"),o(void 0,void 0,void 0,(function(){var n,o,s,u,h,f,p,d;return i(this,(function(i){switch(i.label){case 0:n=c.getCrypto(),u=!0,i.label=1;case 1:return i.trys.push([1,6,,7]),"webCrypto"!==n.name||"function"!=typeof n.crypto.importKey||"function"!=typeof n.crypto.sign?[3,4]:[4,n.crypto.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign","verify"])];case 2:return h=i.sent(),[4,n.crypto.sign({name:"HMAC",hash:{name:r}},h,t)];case 3:return o=i.sent(),[3,5];case 4:"nodeCrypto"===n.name?(f=n.crypto.createHmac(a.default.hashes[r].nodeName,e),o=f.update(t).digest()):u=!1,i.label=5;case 5:return[3,7];case 6:return(p=i.sent())instanceof Error&&(s=p.message),u=!1,[3,7];case 7:if(u)return[3,11];i.label=8;case 8:return i.trys.push([8,10,,11]),[4,l(e,t,r)];case 9:return o=i.sent(),[3,11];case 10:throw(d=i.sent())instanceof Error?(s="".concat(s," => ").concat(d.message),new Error("UnsupportedEnvironments: ".concat(s))):new Error("UnsupportedEnvironments");case 11:return[2,new Uint8Array(o)]}}))}))};var l=function(e,t,r){return o(void 0,void 0,void 0,(function(){var n,o,s,u,c,l,f,p;return i(this,(function(i){switch(i.label){case 0:return n=a.default.hashes[r].blockSize,o=a.default.hashes[r].hashSize,e.length>n?[4,h.default.compute(e,r)]:[3,2];case 1:e=i.sent(),i.label=2;case 2:return(s=new Uint8Array(n)).set(e),u=s.map((function(e){return 255&(54^e)})),c=s.map((function(e){return 255&(92^e)})),(l=new Uint8Array(n+t.length)).set(u),l.set(t,n),[4,h.default.compute(l,r)];case 3:return f=i.sent(),(p=new Uint8Array(n+o)).set(c),p.set(f,n),[2,h.default.compute(p,r)]}}))}))};e.verify=function(t,r,n,s){return void 0===s&&(s="SHA-256"),o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,(0,e.compute)(t,r,s)];case 1:return o=i.sent(),[2,n.toString()===o.toString()]}}))}))}}(Ur),function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.verify=e.compute=void 0;var o=n(Ur);e.compute=o.compute,e.verify=o.verify,e.default={compute:e.compute,verify:e.verify}}(Hr);var As={},xs={},Bs={};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.getEnvAtob=Bs.getEnvBtoa=void 0;Bs.getEnvBtoa=()=>"undefined"!=typeof window?window.btoa:Es;Bs.getEnvAtob=()=>"undefined"!=typeof window?window.atob:Ts;const Es=e=>{if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");return Buffer.from(e.toString(),"binary").toString("base64")},Ts=e=>{if("undefined"==typeof Buffer)throw new Error("UnsupportedEnvironment");return Buffer.from(e,"base64").toString("binary")};!function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.stringToArrayBuffer=e.arrayBufferToString=e.hexStringToArrayBuffer=e.arrayBufferToHexString=e.decodeBase64Url=e.encodeBase64Url=e.decodeBase64=e.encodeBase64=void 0;const o=n(Bs);e.encodeBase64=t=>{let r="";r="string"==typeof t?t:(0,e.arrayBufferToString)(t);return o.getEnvBtoa()(r)};e.decodeBase64=t=>{const r=o.getEnvAtob()(t),n=(0,e.stringToArrayBuffer)(r);return s(n)};const i=e=>e instanceof Uint8Array?e:ArrayBuffer.isView(e)&&void 0!==e.buffer?new Uint8Array(e.buffer):new Uint8Array(e),s=e=>{let t=!0;for(let r=0;r<e.length;r++)if(e[r]>126||e[r]<32&&13!==e[r]&&10!==e[r]){t=!1;break}let r=null;if(t){r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t])}else r=e;return r};e.encodeBase64Url=t=>(0,e.encodeBase64)(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");e.decodeBase64Url=t=>(t=t.replace(/-/g,"+").replace(/_/g,"/"),(0,e.decodeBase64)(t));e.arrayBufferToHexString=e=>{const t=i(e);let r="";for(let e=0;e<t.length;e++){let n=(255&t[e]).toString(16);n=1===n.length?`0${n}`:n,r+=n}return r};e.hexStringToArrayBuffer=e=>{const t=[],r=e.length;for(let n=0;n<r;n+=2)t.push(parseInt(e.substr(n,2),16));return new Uint8Array(t)};e.arrayBufferToString=e=>{const t=i(e),r=new Array(t.length);return t.forEach(((e,t)=>{r[t]=e})),String.fromCharCode.apply(null,r)};e.stringToArrayBuffer=e=>new Uint8Array(e.length).map(((t,r)=>e.charCodeAt(r)))}(xs);var ks={},Is=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Cs=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Os=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Is(t,e,r);return Cs(t,e),t};Object.defineProperty(ks,"__esModule",{value:!0}),ks.binToPem=ks.pemToBin=void 0;const Ms=Os(xs),Ps={public:"PUBLIC KEY",private:"PRIVATE KEY",encryptedPrivate:"ENCRYPTED PRIVATE KEY",certificate:"CERTIFICATE",certRequest:"CERTIFICATE REQUEST"};ks.pemToBin=e=>{const t=Hs(e);return Ms.decodeBase64(t)};ks.binToPem=(e,t)=>{const r=Ms.encodeBase64(e);return Rs(r,t)};const Rs=(e,t)=>{const r=Ps[t];let n=`-----BEGIN ${r}-----\n`;for(;e.length>0;)n+=`${e.substring(0,64)}\n`,e=e.substring(64);return n=`${n}-----END ${r}-----`,n},Hs=e=>{const t=RegExp("^-----[s]*BEGIN[^-]*-----$","gm"),r=RegExp("^-----[s]*END[^-]*-----$","gm");try{let n=e.split(t)[1].split(r)[0];return n=n.replace(/\r?\n/g,""),n}catch(e){throw new Error("Invalid format as PEM")}};var Us=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),zs=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ls=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Us(t,e,r);return zs(t,e),t};Object.defineProperty(As,"__esModule",{value:!0}),As.formatter=As.encoder=void 0;const js=Ls(xs),Ds=Ls(ks);var Fs,Ns;!function(e){e.encodeBase64=js.encodeBase64,e.decodeBase64=js.decodeBase64,e.encodeBase64Url=js.encodeBase64Url,e.decodeBase64Url=js.decodeBase64Url,e.arrayBufferToHexString=js.arrayBufferToHexString,e.hexStringToArrayBuffer=js.hexStringToArrayBuffer,e.stringToArrayBuffer=js.stringToArrayBuffer,e.arrayBufferToString=js.arrayBufferToString}(Fs||(As.encoder=Fs={})),function(e){e.binToPem=Ds.binToPem,e.pemToBin=Ds.pemToBin}(Ns||(As.formatter=Ns={})),As.default={encoder:Fs,formatter:Ns};var Ks=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Gs=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ws=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Ks(t,e,r);return Gs(t,e),t},Ys=u&&u.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},Vs=u&&u.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},qs=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.compute=void 0;var Xs=qs(Tr),Zs=Ws(kr),$s=qs(Pr),Qs=qs(Hr),Js=qs(As);Er.compute=function(e,t,r,n,o){return void 0===t&&(t="SHA-256"),void 0===r&&(r=32),void 0===n&&(n=""),void 0===o&&(o=null),Ys(void 0,void 0,void 0,(function(){var i,s,a,u;return Vs(this,(function(c){switch(c.label){case 0:if(i=Zs.getCrypto(),o||(o=$s.default.getRandomBytes(r)),"webCrypto"!==i.name||"function"!=typeof i.crypto.importKey||"function"!=typeof i.crypto.deriveBits)return[3,7];c.label=1;case 1:return c.trys.push([1,4,,6]),[4,i.crypto.importKey("raw",e,{name:"HKDF"},!1,["deriveKey","deriveBits"])];case 2:return a=c.sent(),u={name:"HKDF",salt:o,info:Js.default.encoder.stringToArrayBuffer(n),hash:t},[4,i.crypto.deriveBits(u,a,8*r)];case 3:return s=c.sent(),s=new Uint8Array(s),[3,6];case 4:return c.sent(),[4,ea(e,t,r,n,o)];case 5:return s=c.sent(),[3,6];case 6:return[3,9];case 7:return[4,ea(e,t,r,n,o)];case 8:s=c.sent(),c.label=9;case 9:return[2,{key:s,salt:o}]}}))}))};var ea=function(e,t,r,n,o){return Ys(void 0,void 0,void 0,(function(){var i,s,a,u,c,h,l;return Vs(this,(function(f){switch(f.label){case 0:return i=Xs.default.hashes[t].hashSize,[4,Qs.default.compute(o,e,t)];case 1:s=f.sent(),a=new Uint8Array([]),u=new Uint8Array(Math.ceil(r/i)*i),c=Js.default.encoder.stringToArrayBuffer(n),h=0,f.label=2;case 2:return h<Math.ceil(r/i)?((l=new Uint8Array(a.length+c.length+1)).set(a),l.set(c,a.length),l.set(new Uint8Array([h+1]),a.length+c.length),[4,Qs.default.compute(s,l,t)]):[3,5];case 3:a=f.sent(),u.set(a,i*h),f.label=4;case 4:return h++,[3,2];case 5:return[2,u.slice(0,r)]}}))}))},ta={},ra=u&&u.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},na=u&&u.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},oa=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0}),ta.nistConcatKdf=void 0;var ia=oa(Tr),sa=oa(Lr);ta.nistConcatKdf=function(e,t,r,n){return void 0===r&&(r=32),void 0===n&&(n="SHA-256"),ra(void 0,void 0,void 0,(function(){var o,i,s,a,u,c;return na(this,(function(h){switch(h.label){case 0:if((o=Math.ceil(r/ia.default.hashes[n].hashSize))>Math.pow(2,32)-1)throw new Error("TooLongKeyDataIndicated");i=new Uint8Array(ia.default.hashes[n].hashSize*o),s=new Uint8Array(4),a=0,h.label=1;case 1:return a<o?(s=aa(s),(u=new Uint8Array(4+e.length+t.length)).set(s),u.set(e,s.length),u.set(t,s.length+e.length),[4,sa.default.compute(u,n)]):[3,4];case 2:c=h.sent(),i.set(c,a*ia.default.hashes[n].hashSize),h.label=3;case 3:return a++,[3,1];case 4:return[2,i.slice(0,r)]}}))}))};var aa=function(e){e[3]+=1;for(var t=!0,r=3;t&&r>0;)e[r-1]+=t&&0===e[r]?1:0,t=t&&0===e[r],r--;return e};!function(e){var t=u&&u.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&t(n,e,o);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.nistConcatKdf=e.compute=void 0;var o=n(Er),i=n(ta);e.compute=o.compute,e.nistConcatKdf=i.nistConcatKdf,e.default={compute:e.compute,nistConcatKdf:e.nistConcatKdf}}(Br);var ua=c(Br);function ca(){}function ha(){ha.init.call(this)}function la(e){return void 0===e._maxListeners?ha.defaultMaxListeners:e._maxListeners}function fa(e,t,r,n){var o,i,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]):(i=e._events=new ca,e._eventsCount=0),s){if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(o=la(e))&&o>0&&s.length>o){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){"function"==typeof console.warn?console.warn(e):console.log(e)}(a)}}else s=i[t]=r,++e._eventsCount;return e}function pa(e,t,r){var n=!1;function o(){e.removeListener(t,o),n||(n=!0,r.apply(e,arguments))}return o.listener=r,o}function da(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function va(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}ca.prototype=Object.create(null),ha.EventEmitter=ha,ha.usingDomains=!1,ha.prototype.domain=void 0,ha.prototype._events=void 0,ha.prototype._maxListeners=void 0,ha.defaultMaxListeners=10,ha.init=function(){this.domain=null,ha.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new ca,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ha.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},ha.prototype.getMaxListeners=function(){return la(this)},ha.prototype.emit=function(e){var t,r,n,o,i,s,a,u="error"===e;if(s=this._events)u=u&&null==s.error;else if(!u)return!1;if(a=this.domain,u){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var h="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,o=va(e,n),i=0;i<n;++i)o[i].call(r)}(r,h,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,i=va(e,o),s=0;s<o;++s)i[s].call(r,n)}(r,h,this,arguments[1]);break;case 3:!function(e,t,r,n,o){if(t)e.call(r,n,o);else for(var i=e.length,s=va(e,i),a=0;a<i;++a)s[a].call(r,n,o)}(r,h,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,o,i){if(t)e.call(r,n,o,i);else for(var s=e.length,a=va(e,s),u=0;u<s;++u)a[u].call(r,n,o,i)}(r,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),i=1;i<n;i++)o[i-1]=arguments[i];!function(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,i=va(e,o),s=0;s<o;++s)i[s].apply(r,n)}(r,h,this,o)}return!0},ha.prototype.addListener=function(e,t){return fa(this,e,t,!1)},ha.prototype.on=ha.prototype.addListener,ha.prototype.prependListener=function(e,t){return fa(this,e,t,!0)},ha.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,pa(this,e,t)),this},ha.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,pa(this,e,t)),this},ha.prototype.removeListener=function(e,t){var r,n,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new ca:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length;i-- >0;)if(r[i]===t||r[i].listener&&r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new ca,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o);n.removeListener&&this.emit("removeListener",e,s||t)}return this},ha.prototype.off=function(e,t){return this.removeListener(e,t)},ha.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new ca,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new ca:delete r[e]),this;if(0===arguments.length){for(var n,o=Object.keys(r),i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new ca,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},ha.prototype.listeners=function(e){var t,r,n=this._events;return r=n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[],r},ha.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):da.call(e,t)},ha.prototype.listenerCount=da,ha.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};(e=>{xt=e})({Bip39:e.Bip39,Ed25519:e.Ed25519,Sha512:e.Sha512}),(e=>{At=e})((function(e,t,r){return i(void 0,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,ua.compute(e,"SHA-256",t,"",r)];case 1:return[2,n.sent().key]}}))}))})),(e=>{St=e})(Ye);var ga=r.Converter.utf8ToBytes(wr),ya=[{id:101,isFaucetAvailable:!0,faucetUrl:"https://faucet.alphanet.iotaledger.net/api/enqueue",apiUrl:"https://test.shimmer.node.tanglepay.com",explorerApiUrl:"https://explorer-api.shimmer.network/stardust",explorerApiNetwork:"testnet",networkId:"1856588631910923207",inxMqttEndpoint:"wss://test.api.iotacat.com/mqtt"},{id:102,isFaucetAvailable:!1,apiUrl:"https://mainnet.shimmer.node.tanglepay.com",explorerApiUrl:"https://explorer-api.shimmer.network/stardust",explorerApiNetwork:"shimmer",networkId:"14364762045254553490",inxMqttEndpoint:"wss://test.api.iotacat.com/api/iotacatmqtt/v1"}],_a=function(){function u(){this._events=new ha,this._saltCache={}}return u.prototype.setup=function(e,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return i(this,void 0,void 0,(function(){var o,i,u;return s(this,(function(s){switch(s.label){case 0:if(!(o=ya.find((function(t){return t.id===e}))))throw new Error("Node not found");return this._curNode=o,this._client=r?new t.SingleNodeClient(o.apiUrl,{powProvider:new(r.bind.apply(r,a([void 0],n,!1)))}):new t.SingleNodeClient(o.apiUrl),this._indexer=new t.IndexerPluginClient(this._client),i=this,[4,this._client.info()];case 1:return i._nodeInfo=s.sent(),u=this,[4,this._client.protocolInfo()];case 2:return u._protocolInfo=s.sent(),this._pubKeyCache=function(e){var t={prev:null,next:null,value:null},r={prev:t,next:null,value:null};return t.next=r,{head:t,tail:r,size:0,capacity:e,hash:{}}}(200),console.log("NodeInfo",this._nodeInfo),console.log("ProtocolInfo",this._protocolInfo),[2]}}))}))},u.prototype.setupStorage=function(e){this._storage=e},u.prototype.setHexSeed=function(e){return i(this,void 0,void 0,(function(){var n,o,i;return s(this,(function(s){return this._ensureClientInited(),this._hexSeed==e||(this._hexSeed=e,console.log("HexSeed",e),n=this._hexSeedToEd25519Seed(e),console.log("BaseSeed",n),this._walletKeyPair=this._getPair(n),console.log("WalletKeyPair",this._walletKeyPair),console.log("public key",r.Converter.bytesToHex(this._walletKeyPair.publicKey,!0)),console.log("private key",r.Converter.bytesToHex(this._walletKeyPair.privateKey,!0)),o=new t.Ed25519Address(this._walletKeyPair.publicKey),console.log("GenesisEd25519Address",o),i=o.toAddress(),console.log("GenesisWalletAddress",i),this._accountHexAddress=r.Converter.bytesToHex(i,!0),console.log("AccountHexAddress",this._accountHexAddress),this._accountBech32Address=t.Bech32Helper.toBech32(t.ED25519_ADDRESS_TYPE,i,this._nodeInfo.protocol.bech32Hrp),console.log("AccountBech32Address",this._accountBech32Address)),[2]}))}))},u.prototype._getPublicKeyFromLedgerEd25519=function(e){return i(this,void 0,void 0,(function(){var n,o;return s(this,(function(i){switch(i.label){case 0:return n=r.Converter.hexToBytes(e),o=t.Bech32Helper.toBech32(t.ED25519_ADDRESS_TYPE,n,this._nodeInfo.protocol.bech32Hrp),[4,this._getPublicKeyFromLedger(o)];case 1:return[2,i.sent()]}}))}))},u.prototype._getPublicKeyFromLedger=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return[4,this._getTransactionHistory(e)];case 1:return(t=i.sent())?[4,this._client.output(t)]:[2];case 2:return r=i.sent(),console.log("Output",r),n=r.metadata.transactionId,[4,this._getPublicKeyViaTransactionId(n)];case 3:return o=i.sent(),console.log("PublicKey",o),[2,o]}}))}))},u.prototype._getTransactionHistory=function(e){return i(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(o){switch(o.label){case 0:if(!this._curNode)throw new Error("Node not initialized");return t="".concat(this._curNode.explorerApiUrl,"/transactionhistory/").concat(this._curNode.explorerApiNetwork,"/").concat(e,"?pageSize=1000&sort=newest"),console.log("TransactionHistoryUrl",t),[4,fetch(t)];case 1:return[4,o.sent().json()];case 2:return r=o.sent(),console.log("TransactionHistory",r),r.items&&r.items.length>0&&(n=r.items.find((function(e){return 1==e.isSpent})))?[2,n.outputId]:[2]}}))}))},u.prototype._getPublicKeyViaTransactionId=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,i;return s(this,(function(s){switch(s.label){case 0:if(!this._curNode)throw new Error("Node not initialized");return t="".concat(this._curNode.explorerApiUrl,"/transaction/").concat(this._curNode.explorerApiNetwork,"/").concat(e),console.log("TransactionUrl",t),[4,fetch(t)];case 1:return[4,s.sent().json()];case 2:for(r=s.sent(),console.log("Transaction",r),n=0,o=r.block.payload.unlocks;n<o.length;n++)if(0===(i=o[n]).type)return[2,i.signature.publicKey];return[2]}}))}))},u.prototype.getPublicKey=function(e,t){var r;return void 0===t&&(t="bech32"),i(this,void 0,void 0,(function(){var n,o,i,a;return s(this,(function(s){switch(s.label){case 0:return this._ensureClientInited(),n=(null===(r=this._storage)||void 0===r?void 0:r.prefix)+e,o=function(e,t){var r=t.hash[e];if(r)return yr(r),_r(r,t),r.value}(n,this._pubKeyCache),console.log("MemoryValue",o,e),o?[2,o]:"bech32"!=t?[3,2]:[4,this._getPublicKeyFromLedger(e)];case 1:return a=s.sent(),[3,4];case 2:return[4,this._getPublicKeyFromLedgerEd25519(e)];case 3:a=s.sent(),s.label=4;case 4:return i=a,console.log("LedgerValue",i,e),i||(i="noop"),function(e,t,r){var n=r.hash[e];if(n)n.value=t,yr(n),_r(n,r);else{var o=function(e,t){return{prev:null,next:null,value:t,key:e}}(e,t);if(r.hash[e]=o,_r(o,r),r.size++,r.size>r.capacity){var i=r.tail.prev;yr(i),delete r.hash[i.key],r.size--}}}(n,i,this._pubKeyCache),[2,i]}}))}))},u.prototype._getAddressListForGroupFromInxApi=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t="https://".concat(Zt,"/api/groupfi/v1/nftswithpublickey?groupId=0x").concat(e),console.log("_getAddressListForGroupFromInxApi url",t),[4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return(r=s.sent()).ok||console.log("_getAddressListForGroupFromInxApi res not ok",r.status),console.log("_getAddressListForGroupFromInxApi res",r),[4,r.json()];case 2:if(n=s.sent(),o=n.filter((function(e){return e.publicKey})),o.length>100)throw xr.makeErrorForGroupMemberTooMany();return[2,o];case 3:if(i=s.sent(),console.log("_getAddressListForGroupFromInxApi error",i),xr.verifyErrorForGroupMemberTooMany(i))throw console.log("re throwing",i),i;return[3,4];case 4:return[2,[]]}}))}))},u.prototype._getSharedOutputIdForGroupFromInxApi=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),t="https://".concat(Zt,"/api/groupfi/v1/shared?groupId=0x").concat(e),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}})];case 2:if(!(r=i.sent()).ok&&901===r.status)throw xr.makeErrorForGroupMemberTooMany();return[4,r.json()];case 3:return[2,i.sent()];case 4:if(n=i.sent(),xr.verifyErrorForGroupMemberTooMany(n))throw n;return console.log("error",n),[3,5];case 5:return[3,7];case 6:if(o=i.sent(),xr.verifyErrorForGroupMemberTooMany(o))throw o;return console.log("error",o),[3,7];case 7:return[2,void 0]}}))}))},u.prototype._getSharedOutputForGroup=function(e){return i(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(o){switch(o.label){case 0:return this._ensureClientInited(),[4,this._getSharedOutputIdForGroupFromInxApi(e)];case 1:return(t=o.sent())?(r=t.outputId,[4,this._client.output(r)]):[3,3];case 2:return n=o.sent(),[2,{outputId:r,output:n.output}];case 3:return[4,this._makeSharedOutputForGroup(e)];case 4:return[2,o.sent()]}}))}))},u.prototype.ensureGroupHaveSharedOutput=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:this._ensureClientInited(),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,this._getSharedOutputIdForGroupFromInxApi(e)];case 2:return r.sent()?[3,4]:[4,this._makeSharedOutputForGroup(e)];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:if(t=r.sent(),!xr.verifyErrorForGroupMemberTooMany(t))throw t;return console.log("GroupMemberTooMany,public for now",t),[3,6];case 6:return[2]}}))}))},u.prototype._getSaltForGroup=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o;return s(this,(function(i){switch(i.label){case 0:return console.log("_getSaltForGroup groupId:".concat(e,", address:").concat(t)),[4,this._getSharedOutputForGroup(e)];case 1:if(!(r=i.sent()))throw new Error("Shared output not found");return n=r.output,o=r.outputId,console.log("sharedOutput",n,t),[4,this._getSaltFromSharedOutput(n,t)];case 2:return[2,{salt:i.sent(),outputId:o}]}}))}))},u.prototype._getSaltFromSharedOutput=function(e,t){var n;return i(this,void 0,void 0,(function(){var i,a,u,c,h,l,f,p,d,v;return s(this,(function(s){switch(s.label){case 0:if(!(i=null===(n=e.features)||void 0===n?void 0:n.find((function(e){return 2==e.type}))))throw new Error("Metadata feature not found");return a=r.Converter.hexToBytes(i.data),u=xr.deserializeRecipientList(a),c=u.map((function(e){return o(o({},e),{payload:r.Converter.hexToBytes(e.mkey)})})),[4,xr.getAddressHashStr(t)];case 1:for(h=s.sent(),console.log("recipients",u,t,h),l="",f=-1,p=0;p<c.length;p++)if((d=c[p]).mkey&&d.addr===h){f=p;break}return[4,Pt({receiverSecret:this._walletKeyPair.privateKey,payloadList:c,tag:ga,idx:f})];case 2:if((v=s.sent())&&(l=v.payload),!l)throw new Error("Salt not found");return[2,l]}}))}))},u.prototype._getSaltFromSharedOutputId=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return s(this,(function(o){switch(o.label){case 0:return[4,this._client.output(e)];case 1:return r=o.sent(),n=r.output,[4,this._getSaltFromSharedOutput(n,t)];case 2:return[2,{salt:o.sent()}]}}))}))},u.prototype._makeSharedOutputForGroup=function(e){return i(this,void 0,void 0,(function(){var n,o,i,a,u,c,h,l,f,p,d;return s(this,(function(s){switch(s.label){case 0:return[4,this._getAddressListForGroupFromInxApi(e)];case 1:return n=s.sent(),o=n.map((function(e){return{addr:e.ownerAddress,mkey:e.publicKey}})),console.log("_makeSharedOutputForGroup recipients",o),i=xr._generateRandomStr(32),console.log("shared salt",i),a=o.map((function(e){return{addr:e.addr,publicKey:r.Converter.hexToBytes(e.mkey),content:i}})),[4,Mt({payloadList:a,tag:ga})];case 2:return u=s.sent(),c=u.map((function(e){return{addr:e.addr,mkey:r.Converter.bytesToHex(e.payload)}})),console.log("preparedRecipients",c,c.map((function(e){return{addr:xr.getAddressHashStr(e.addr),mkey:e.mkey}}))),h=xr.serializeRecipientList(c,e),l={type:3,tag:"0x".concat(r.Converter.utf8ToHex("GROUPFISHAREDV2"))},f={type:2,data:r.Converter.bytesToHex(h,!0)},p={type:t.BASIC_OUTPUT_TYPE,amount:"",nativeTokens:[],unlockConditions:[{type:t.ADDRESS_UNLOCK_CONDITION_TYPE,address:{type:t.ED25519_ADDRESS_TYPE,pubKeyHash:this._accountHexAddress}}],features:[f,l]},[4,this._sendBasicOutput(p)];case 3:return(d=s.sent()).blockId,[2,{outputId:d.outputId,output:p}]}}))}))},u.prototype._getPair=function(r){var n=t.generateBip44Address({accountIndex:0,addressIndex:0,isInternal:!1},t.COIN_TYPE_SHIMMER);return console.log("Wallet Index ".concat(n)),r.generateSeedFromPath(new e.Bip32Path(n)).keyPair()},u.prototype._hexSeedToEd25519Seed=function(e){var n=r.Converter.hexToBytes(e);return new t.Ed25519Seed(n)},u.prototype._ensureClientInited=function(){if(!(this._client&&this._indexer&&this._nodeInfo&&this._protocolInfo))throw new Error("Client not initialized")},u.prototype._ensureWalletInited=function(){if(!this._walletKeyPair||!this._accountHexAddress||!this._accountBech32Address)throw new Error("Wallet not initialized")},u.prototype._ensureStorageInited=function(){if(!this._storage)throw new Error("Storage not initialized")},u.prototype.getMessageFromOutputId=function(e,t){return i(this,void 0,void 0,(function(){var n,o,i,a,u,c,h,l,f,p,d;return s(this,(function(s){switch(s.label){case 0:this._ensureClientInited(),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this._client.output(e)];case 2:if(n=s.sent(),o=n.output,i=o.unlockConditions.find((function(e){return 0===e.type})),a=i.address,u=r.Converter.hexToBytes(a.pubKeyHash),!(c=o.features))throw new Error("No features");if(!(h=c.find((function(e){return 2===e.type}))))throw new Error("No metadata feature");return l=r.Converter.hexToBytes(h.data),[4,this.getMessageFromMetafeaturepayloadAndSender({data:l,senderAddressBytes:u,address:t})];case 3:return f=s.sent(),p=f.sender,d=f.message,[2,{sender:p,message:d}];case 4:return s.sent(),console.log("getMessageFromOutputId:".concat(e)),[3,5];case 5:return[2]}}))}))},u.prototype.getMessageFromMetafeaturepayloadAndSender=function(e){var n=e.data,o=e.senderAddressBytes,a=e.address;return i(this,void 0,void 0,(function(){var e,u,c,h,l=this;return s(this,(function(f){switch(f.label){case 0:return e="string"==typeof n?r.Converter.hexToBytes(n):n,u="string"==typeof o?r.Converter.hexToBytes(o):o,console.log("getMessageFromMetafeaturepayloadAndSender",e,u,a),c=t.Bech32Helper.toBech32(t.ED25519_ADDRESS_TYPE,u,this._nodeInfo.protocol.bech32Hrp),[4,xr.deserializeMessage(e,a,{decryptUsingPrivateKey:function(e){return i(l,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,It(this._walletKeyPair.privateKey,e,ga)];case 1:return[2,t.sent().payload]}}))}))},sharedOutputSaltResolver:function(e){return i(l,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this._getSaltFromSharedOutputId(e,a)];case 1:return[2,t.sent().salt]}}))}))}})];case 1:return h=f.sent(),[2,{sender:c,message:h}]}}))}))},u.prototype._getUnSpentOutputs=function(e){var t=void 0===e?{numbersWanted:100}:e,r=t.numbersWanted,n=t.amountLargerThan,o=t.idsForFiltering;return i(this,void 0,void 0,(function(){var e,t,i,a,u;return s(this,(function(s){switch(s.label){case 0:this._ensureClientInited(),this._ensureWalletInited(),e=[],s.label=1;case 1:return[4,this._getOneBatchUnSpentOutputs({pageSize:100,amountLargerThan:n,cursor:t,idsForFiltering:o})];case 2:return i=s.sent(),a=i.outputs,u=i.nextCursor,t=u,e.push.apply(e,a),e.length>=r?[3,3]:u?[3,1]:[3,3];case 3:return[2,e.slice(0,r)]}}))}))},u.prototype._getLargestUnSpentOutputAsideThoseForConsolidation=function(e){return i(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),t=new Set(e),[4,this._getUnSpentOutputs({numbersWanted:100,idsForFiltering:t})];case 1:return 0===(r=n.sent()).length?[2,void 0]:[2,this._findLargestOutput(r)]}}))}))},u.prototype._getOutputIdsFromMessageConsolidationApi=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return t={address:"".concat(e)},r=Dt(t),n="https://".concat(Zt,"/api/groupfi/v1/consolidation/message").concat(r),[4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return[4,i.sent().json()];case 2:return[2,null!=(o=i.sent())?o:[]]}}))}))},u.prototype.checkThenConsolidateMessages=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getOutputIdsFromMessageConsolidationApi(this._accountBech32Address)];case 1:return e=t.sent(),console.log("outputIds",e),0===e.length?[2]:[4,this._consolidateOutputIdsFromApiResult(e)];case 2:return[2,t.sent()]}}))}))},u.prototype._getOutputIdsFromMessageConsolidationSharedApi=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return t={address:"".concat(e)},r=Dt(t),n="https://".concat(Zt,"/api/groupfi/v1/consolidation/shared").concat(r),[4,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return[4,i.sent().json()];case 2:return[2,null!=(o=i.sent())?o:[]]}}))}))},u.prototype.checkThenConsolidateShared=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getOutputIdsFromMessageConsolidationSharedApi(this._accountBech32Address)];case 1:return e=t.sent(),console.log("outputIds",e),0===e.length?[2]:[4,this._consolidateOutputIdsFromApiResult(e)];case 2:return[2,t.sent()]}}))}))},u.prototype._consolidateOutputIdsFromApiResult=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o=this;return s(this,(function(i){switch(i.label){case 0:return[4,this._outputIdsToOutputResponseWrappers(e)];case 1:return t=i.sent(),r=t.map((function(e){return o._outputResponseWrapperToBasicOutputWrapper(e)})),[4,this._getLargestUnSpentOutputAsideThoseForConsolidation(e)];case 2:return(n=i.sent())&&r.push(n),[4,this._consolidateOutputs(r)];case 3:return[2,i.sent()]}}))}))},u.prototype._getOneBatchUnSpentOutputs=function(e){var t=void 0===e?{}:e,r=t.cursor,o=t.pageSize,a=void 0===o?100:o,u=t.amountLargerThan,c=t.idsForFiltering;return i(this,void 0,void 0,(function(){var e,t,o,i,h,l=this;return s(this,(function(s){switch(s.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._indexer.basicOutputs({addressBech32:this._accountBech32Address,hasStorageDepositReturn:!1,hasExpiration:!1,hasTimelock:!1,hasNativeTokens:!1,pageSize:a,cursor:r})];case 1:return e=s.sent(),t=e.cursor,console.log("OutputsResponse",e),o=e.items,c&&(o=o.filter((function(e){return!c.has(e)}))),[4,this._getUnSpentOutputsFromOutputIds(o)];case 2:return i=s.sent(),console.log("Unspent Outputs",i),h=i.map((function(e){return l._outputResponseWrapperToBasicOutputWrapper(e)})),u&&(h=h.filter((function(e){return n(e.output.amount).greater(u)}))),[2,{outputs:h,nextCursor:t}]}}))}))},u.prototype._getUnSpentOutputsFromOutputIds=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return this._ensureClientInited(),[4,this._outputIdsToOutputResponseWrappers(e)];case 1:return[2,r.sent().filter((function(e){return!1===e.output.metadata.isSpent&&e.output.output.type===t.BASIC_OUTPUT_TYPE}))]}}))}))},u.prototype._outputIdsToOutputResponseWrappers=function(e){return i(this,void 0,void 0,(function(){var t,r,n=this;return s(this,(function(o){switch(o.label){case 0:return this._ensureClientInited(),t=e.map((function(e){return n._client.output(e)})),[4,Promise.all(t)];case 1:return r=o.sent(),[2,r.map((function(t,r){return{outputId:e[r],output:t}}))]}}))}))},u.prototype._outputResponseWrapperToBasicOutputWrapper=function(e){var t=e.output.output;return{outputId:e.outputId,output:t}},u.prototype._getAmount=function(e){console.log("_getAmount",e,this._protocolInfo.rentStructure);var r=t.TransactionHelper.getStorageDeposit(e,this._protocolInfo.rentStructure);return n(r)},u.prototype._bech32AddrArrToRecipients=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o,a,u=this;return s(this,(function(c){switch(c.label){case 0:return console.log("_bech32AddrArrToRecipients before remove duplications size:".concat(e.length)),t=new Set(e),e=Array.from(t),console.log("_bech32AddrArrToRecipients after remove duplications size:".concat(e.length)),r=e.map((function(e){return function(){return i(u,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getPublicKey(e)];case 1:return t=n.sent(),console.log("pubKey",t,e),[2,{mkey:t,addr:e}];case 2:return r=n.sent(),console.log("error",r),[2,{mkey:"noop",addr:e}];case 3:return[2]}}))}))}})),[4,Rt(r,5)];case 1:return n=c.sent(),console.log("recipients with PublicKeys",n),o=n.length,n=n.filter((function(e){return e&&null!=e.mkey&&"noop"!=e.mkey})),a=n.length,console.log("recipients with PublicKeys filtered",n),console.log("_bech32AddrArrToRecipients  recipients total:".concat(o,", withKey:").concat(a)),[2,n.filter((function(e){return e&&null!=e.mkey&&"noop"!=e.mkey}))]}}))}))},u.prototype.sendMessage=function(e,n,o){return i(this,void 0,void 0,(function(){var a,u,c,h,l,f,p,d,v,g,y,_,m,w,b,S,A=this;return s(this,(function(x){switch(x.label){case 0:this._ensureClientInited(),this._ensureWalletInited(),x.label=1;case 1:return x.trys.push([1,12,,13]),[4,this._client.protocolInfo()];case 2:a=x.sent(),console.log("ProtocolInfo",a),u={},c=function(e){return i(A,void 0,void 0,(function(){return s(this,(function(t){return[2,u[e]]}))}))},x.label=3;case 3:return x.trys.push([3,8,,9]),1!=o.authScheme?[3,5]:[4,this._getAddressListForGroupFromInxApi(n)];case 4:return h=x.sent(),l=h.map((function(e){return{addr:e.ownerAddress,mkey:e.publicKey}})),o.recipients=l,[3,7];case 5:return[4,this._getSaltForGroup(n,e)];case 6:f=x.sent(),p=f.salt,d=f.outputId,o.recipientOutputid=d,u[n]=p,x.label=7;case 7:return[3,9];case 8:if(v=x.sent(),!xr.verifyErrorForGroupMemberTooMany(v))throw v;return o.messageType=2,[3,9];case 9:return console.log("MessageWithPublicKeys",o),[4,xr.serializeMessage(o,{encryptUsingPublicKey:function(e,t){return i(A,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return n=r.Converter.hexToBytes(e),[4,Tt(n,t,ga)];case 1:return[2,o.sent().payload]}}))}))},groupSaltResolver:c})];case 10:return g=x.sent(),console.log("MessagePayload",g),y={type:3,tag:"0x".concat(r.Converter.utf8ToHex(wr))},_={type:2,data:r.Converter.bytesToHex(g,!0)},m={type:t.BASIC_OUTPUT_TYPE,amount:"",nativeTokens:[],unlockConditions:[{type:t.ADDRESS_UNLOCK_CONDITION_TYPE,address:{type:t.ED25519_ADDRESS_TYPE,pubKeyHash:this._accountHexAddress}}],features:[_,y]},console.log("Basic Output: ",m),[4,this._sendBasicOutput(m)];case 11:return w=x.sent(),b=w.blockId,w.outputId,[2,b];case 12:return S=x.sent(),console.log("Error submitting block: ",S),[3,13];case 13:return[2]}}))}))},u.prototype._findLargestUnspentOutput=function(e){return i(this,void 0,void 0,(function(){var t,r,o,i,a,u,c;return s(this,(function(s){switch(s.label){case 0:return t=n("0"),r=void 0,[4,this._getUnSpentOutputsFromOutputIds(e)];case 1:for(o=s.sent(),i=0,a=o;i<a.length;i++)u=a[i],(c=n(u.output.output.amount)).greater(t)&&(t=c,r=u);return[2,r]}}))}))},u.prototype._findLargestOutput=function(e){for(var t=n("0"),r=void 0,o=0,i=e;o<i.length;o++){var s=i[o],a=n(s.output.amount);a.greater(t)&&(t=a,r=s)}return r},u.prototype._consolidateOutputs=function(e){return i(this,void 0,void 0,(function(){var r,o,i,a,u,c,h,l;return s(this,(function(s){switch(s.label){case 0:for(this._ensureClientInited(),this._ensureWalletInited(),r=e[e.length-1],(e=(e=e.slice(0,e.length-1)).slice(0,29)).push(r),o=n("0"),i=0,a=e;i<a.length;i++)(u=a[i]).outputId,c=u.output,h=n(c.amount),o=o.add(h);return l={type:t.BASIC_OUTPUT_TYPE,amount:o.toString(),nativeTokens:[],unlockConditions:[{type:t.ADDRESS_UNLOCK_CONDITION_TYPE,address:{type:t.ED25519_ADDRESS_TYPE,pubKeyHash:this._accountHexAddress}}],features:[]},[4,this._sendTransactionWithConsumedOutputsAndCreatedOutputs(e,[l])];case 1:return[2,s.sent()]}}))}))},u.prototype._sendBasicOutput=function(e,r){return void 0===r&&(r=[]),i(this,void 0,void 0,(function(){var o,i,a,u,c,h,l,f,p,d,v,g,y,_;return s(this,(function(s){switch(s.label){case 0:for(o=this._getAmount(e),console.log("AmountToSend",o),e.amount=o.toString(),i=[e],a=n("0"),u=0,c=r;u<c.length;u++)h=c[u],l=n(h.output.amount),a=a.add(l);return f=o.subtract(a),console.log("cashNeeded",f),f.lesser(n("0"))?(e.amount=a.toString(),[3,3]):[3,1];case 1:return p=f.multiply(2),d=new Set(r.map((function(e){return e.outputId}))),[4,this._getUnSpentOutputs({amountLargerThan:p,numbersWanted:1,idsForFiltering:d})];case 2:if(v=s.sent(),console.log("unspent Outputs",v),!(g=v.find((function(e){return n(e.output.amount).greater(p)}))))throw new Error("No output with enough amount");r.push(g),y=g.output,g.outputId,console.log("ConsumedOutput",y),_={type:t.BASIC_OUTPUT_TYPE,amount:n(y.amount).minus(f).toString(),nativeTokens:[],unlockConditions:[{type:t.ADDRESS_UNLOCK_CONDITION_TYPE,address:{type:t.ED25519_ADDRESS_TYPE,pubKeyHash:this._accountHexAddress}}],features:[]},i.push(_),console.log("Remainder Basic Output: ",_),s.label=3;case 3:return[4,this._sendTransactionWithConsumedOutputsAndCreatedOutputs(r,i)];case 4:return[2,s.sent()]}}))}))},u.prototype._sendTransactionWithConsumedOutputsAndCreatedOutputs=function(n,o){return i(this,void 0,void 0,(function(){var i,a,u,c,h,l,f,p,d,v,g,y,_,m,w,b,S,A,x,B,E,T;return s(this,(function(s){switch(s.label){case 0:for(this._ensureClientInited(),this._ensureWalletInited(),i=[],a=[],u=0,c=n;u<c.length;u++)h=c[u],l=h.outputId,f=h.output,p=t.TransactionHelper.inputFromOutputId(l),i.push(p),a.push(f);for(d=t.TransactionHelper.getInputsCommitment(a),console.log("Inputs Commitment: ",d),v={type:t.TRANSACTION_ESSENCE_TYPE,networkId:this._curNode.networkId,inputs:i,inputsCommitment:d,outputs:o,payload:void 0},g=new r.WriteStream,t.serializeTransactionEssence(g,v),y=g.finalBytes(),_=e.Blake2b.sum256(y),console.log("Transaction Essence: ",v),m={type:t.SIGNATURE_UNLOCK_TYPE,signature:{type:t.ED25519_SIGNATURE_TYPE,publicKey:r.Converter.bytesToHex(this._walletKeyPair.publicKey,!0),signature:r.Converter.bytesToHex(e.Ed25519.sign(this._walletKeyPair.privateKey,_),!0)}},w={type:t.REFERENCE_UNLOCK_TYPE,reference:0},console.log("Unlock condition: ",m),b=[],S=0;S<i.length;S++)0===S?b.push(m):b.push(w);A={type:t.TRANSACTION_PAYLOAD_TYPE,essence:v,unlocks:b},console.log("Transaction payload: ",A),x=r.Converter.bytesToHex(t.TransactionHelper.getTransactionPayloadHash(A),!0)+"0000",B={protocolVersion:t.DEFAULT_PROTOCOL_VERSION,parents:[],payload:A,nonce:"0"},console.log("Block: ",B),console.log("Calculating PoW, submitting block..."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._client.blockSubmit(B)];case 2:return E=s.sent(),console.log("Submitted blockId is: ",E),[2,{blockId:E,outputId:x}];case 3:throw T=s.sent(),console.log("Error submitting block: ",T),T;case 4:return[2]}}))}))},u.prototype.fetchMessageListFrom=function(e,t,r,n){return void 0===n&&(n=10),i(this,void 0,void 0,(function(){var o,i,a,u,c,h,l,f,p;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),o={groupId:"0x".concat(e),size:n,token:r},i=Dt(o),a="https://".concat(Zt,"/api/groupfi/v1/messages").concat(i),[4,fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return[4,s.sent().json()];case 2:return u=s.sent(),[4,this._messageResponseToMesssageListAndTokens(u,t)];case 3:return c=s.sent(),h=c.messageList,l=c.headToken,f=c.tailToken,[2,{messageList:h,headToken:l,tailToken:f}];case 4:return p=s.sent(),console.log("error",p),[3,5];case 5:return[2]}}))}))},u.prototype.fetchMessageListUntil=function(e,t,r,n){return void 0===n&&(n=10),i(this,void 0,void 0,(function(){var o,i,a,u,c,h,l,f,p;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),o={groupId:"0x".concat(e),size:n,token:r},i=Dt(o),a="https://".concat(Zt,"/api/groupfi/v1/messages/until").concat(i),[4,fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return[4,s.sent().json()];case 2:return u=s.sent(),[4,this._messageResponseToMesssageListAndTokens(u,t)];case 3:return c=s.sent(),h=c.messageList,l=c.headToken,f=c.tailToken,[2,{messageList:h,headToken:l,tailToken:f}];case 4:return p=s.sent(),console.log("error",p),[3,5];case 5:return[2]}}))}))},u.prototype.fetchInboxMessageList=function(e,t,r){return void 0===r&&(r=10),i(this,void 0,void 0,(function(){var n,o,i,a,u,c,h;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),n={address:"".concat(e),size:r,token:t},o=Dt(n),i="https://".concat(Zt,"/api/groupfi/v1/inboxmessage").concat(o),[4,fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}})];case 1:return[4,s.sent().json()];case 2:return a=s.sent(),u=a.messages,c=a.token,[4,this._messagesToMessageBodies(u,e)];case 3:return[2,{messageList:s.sent(),token:c}];case 4:return h=s.sent(),console.log("error",h),[3,5];case 5:return[2]}}))}))},u.prototype._messageResponseToMesssageListAndTokens=function(e,t){return i(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return r=e.messages,[4,this._messagesToMessageBodies(r,t)];case 1:return[2,{messageList:n.sent(),headToken:e.headToken,tailToken:e.tailToken}]}}))}))},u.prototype._messagesToMessageBodies=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o=this;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(e){return o.getMessageFromOutputId(e.outputId,t)})))];case 1:return r=i.sent(),n=r.map((function(t,r){var n;if(t)return{timestamp:e[r].timestamp,groupId:t.message.groupId,message:null!==(n=t.message.data)&&void 0!==n?n:"",sender:t.sender}})),[2,n.filter((function(e){return null!=e}))]}}))}))},u.prototype._getOneOutputWithTag=function(e){return i(this,void 0,void 0,(function(){var t,n,o,i;return s(this,(function(s){switch(s.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._indexer.basicOutputs({addressBech32:this._accountBech32Address,tagHex:"0x".concat(r.Converter.utf8ToHex(e)),hasStorageDepositReturn:!1,hasExpiration:!1,hasTimelock:!1,hasNativeTokens:!1,pageSize:1})];case 1:return t=s.sent(),(n=t.items?t.items[0]:void 0)?[4,this._client.output(n)]:[2,void 0];case 2:return o=s.sent(),i=o.output,[2,{outputId:n,output:i}]}}))}))},u.prototype.getMarkedGroupIds=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getMarkedGroupIds()];case 1:return[2,e.sent().list]}}))}))},u.prototype.markGroup=function(e){return i(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(o){switch(o.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getMarkedGroupIds()];case 1:return t=o.sent(),r=t.outputWrapper,n=t.list,console.log("existing list",n,r),n.find((function(t){return t.groupId===e}))?(console.log("already marked",e),[2]):(n.push({groupId:e,timestamp:Date.now()}),[4,this._persistMarkedGroupIds(n,r)]);case 2:return o.sent(),[2]}}))}))},u.prototype.unmarkGroup=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getMarkedGroupIds()];case 1:return t=i.sent(),r=t.outputWrapper,n=t.list,-1===(o=n.findIndex((function(t){return t.groupId===e})))?[2]:(n.splice(o,1),[4,this._persistMarkedGroupIds(n,r)]);case 2:return i.sent(),[2]}}))}))},u.prototype._persistMarkedGroupIds=function(e,t){return i(this,void 0,void 0,(function(){var n,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return n="0x".concat(r.Converter.utf8ToHex(br)),o=lr(e),[4,this._dataAndTagToBasicOutput(o,n)];case 1:return i=s.sent(),a=t?[t]:[],[4,this._sendBasicOutput(i,a)];case 2:return(u=s.sent()).blockId,u.outputId,[2]}}))}))},u.prototype._getMarkedGroupIds=function(){var e;return i(this,void 0,void 0,(function(){var t,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:return[4,this._getOneOutputWithTag(br)];case 1:return t=s.sent(),console.log("_getMarkedGroupIds existing",t),t?(n=t.output,(o=null===(e=n.features)||void 0===e?void 0:e.find((function(e){return 2===e.type})))?(i=r.Converter.hexToBytes(o.data),a=fr(i),[2,{outputWrapper:t,list:a}]):[2,{list:[]}]):[2,{list:[]}]}}))}))},u.prototype._dataAndTagToBasicOutput=function(e,n){return i(this,void 0,void 0,(function(){var o,i;return s(this,(function(s){return o={type:3,tag:n},i={type:2,data:r.Converter.bytesToHex(e,!0)},[2,{type:t.BASIC_OUTPUT_TYPE,amount:"",nativeTokens:[],unlockConditions:[{type:t.ADDRESS_UNLOCK_CONDITION_TYPE,address:{type:t.ED25519_ADDRESS_TYPE,pubKeyHash:this._accountHexAddress}}],features:[i,o]}]}))}))},u.prototype.muteGroupMember=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o;return s(this,(function(i){switch(i.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserMuteGroupMembers()];case 1:return r=i.sent(),n=r.outputWrapper,(o=r.list).find((function(r){return r.groupId===e&&r.addrSha256Hash===t}))?[2]:(o.push({groupId:e,addrSha256Hash:t}),[4,this._persistUserMuteGroupMembers(o,n)]);case 2:return i.sent(),[2]}}))}))},u.prototype.unmuteGroupMember=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o,i;return s(this,(function(s){switch(s.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserMuteGroupMembers()];case 1:return r=s.sent(),n=r.outputWrapper,o=r.list,-1===(i=o.findIndex((function(r){return r.groupId===e&&r.addrSha256Hash===t})))?[2]:(o.splice(i,1),[4,this._persistUserMuteGroupMembers(o,n)]);case 2:return s.sent(),[2]}}))}))},u.prototype._persistUserMuteGroupMembers=function(e,t){return i(this,void 0,void 0,(function(){var n,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return n="0x".concat(r.Converter.utf8ToHex(Sr)),o=pr(e),[4,this._dataAndTagToBasicOutput(o,n)];case 1:return i=s.sent(),a=t?[t]:[],[4,this._sendBasicOutput(i,a)];case 2:return(u=s.sent()).blockId,u.outputId,[2]}}))}))},u.prototype._getUserMuteGroupMembers=function(){var e;return i(this,void 0,void 0,(function(){var t,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:return[4,this._getOneOutputWithTag(Sr)];case 1:return(t=s.sent())?(n=t.output,(o=null===(e=n.features)||void 0===e?void 0:e.find((function(e){return 2===e.type})))?(i=r.Converter.hexToBytes(o.data),a=dr(i),[2,{outputWrapper:t,list:a}]):[2,{list:[]}]):[2,{list:[]}]}}))}))},u.prototype.getAllUserMuteGroupMembers=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserMuteGroupMembers()];case 1:return[2,e.sent().list]}}))}))},u.prototype.getAllGroupVotes=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserVoteGroups()];case 1:return(e=t.sent()).outputWrapper,[2,e.list]}}))}))},u.prototype.voteGroup=function(e,t){return i(this,void 0,void 0,(function(){var r,n,o,i;return s(this,(function(s){switch(s.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserVoteGroups()];case 1:if(r=s.sent(),n=r.outputWrapper,o=r.list,i=o.find((function(t){return t.groupId===e}))){if(i.vote===t)return[2];i.vote=t}else o.push({groupId:e,vote:t});return[4,this._persistUserVoteGroups(o,n)];case 2:return s.sent(),[2]}}))}))},u.prototype.unvoteGroup=function(e){return i(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return this._ensureClientInited(),this._ensureWalletInited(),[4,this._getUserVoteGroups()];case 1:return t=i.sent(),r=t.outputWrapper,n=t.list,-1===(o=n.findIndex((function(t){return t.groupId===e})))?[2]:(n.splice(o,1),[4,this._persistUserVoteGroups(n,r)]);case 2:return i.sent(),[2]}}))}))},u.prototype._persistUserVoteGroups=function(e,t){return i(this,void 0,void 0,(function(){var n,o,i,a,u;return s(this,(function(s){switch(s.label){case 0:return n="0x".concat(r.Converter.utf8ToHex(Ar)),o=vr(e),[4,this._dataAndTagToBasicOutput(o,n)];case 1:return i=s.sent(),a=t?[t]:[],[4,this._sendBasicOutput(i,a)];case 2:return(u=s.sent()).blockId,u.outputId,[2]}}))}))},u.prototype._getUserVoteGroups=function(){var e;return i(this,void 0,void 0,(function(){var t,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:return[4,this._getOneOutputWithTag(Ar)];case 1:return(t=s.sent())?(n=t.output,(o=null===(e=n.features)||void 0===e?void 0:e.find((function(e){return 2===e.type})))?(i=r.Converter.hexToBytes(o.data),a=gr(i),[2,{outputWrapper:t,list:a}]):[2,{list:[]}]):[2,{list:[]}]}}))}))},u}();return new _a}(IotaCrypto,Iota,IotaUtil,bigInt);
//# sourceMappingURL=index.js.map
